# –ì–ª–∏–±–æ–∫–µ –∑–∞–Ω—É—Ä–µ–Ω–Ω—è –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤—ñ—Å—Ç—å Python

> üíª **–ü—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–¥—É**: –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —É —Ñ–∞–π–ª—ñ [Code_Examples.md](Code_Examples.md)
>
> üîí **–î–æ–¥–∞—Ç–∫–æ–≤–æ –ø—Ä–æ GIL**: –ì–ª–∏–±–æ–∫–∏–π —Ä–µ—Ñ–µ—Ä–∞—Ç –ø—Ä–æ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É —Ç–∞ –º–∞–π–±—É—Ç–Ω—î GIL —É —Ñ–∞–π–ª—ñ [GIL in Python.md](GIL%20in%20Python.md)
>
> üõ†Ô∏è **–ü—Ä–∞–∫—Ç–∏—á–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞**: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∫–∞–Ω–µ—Ä—ñ–≤ —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ —É —Ñ–∞–π–ª—ñ [Part_2_Practical.md](Part_2_Practical.md)

## –ó–º—ñ—Å—Ç
1. [–©–æ —Ç–∞–∫–µ –ø–æ—Ç–æ–∫–∏ —ñ –ø—Ä–æ—Ü–µ—Å–∏?](#—â–æ-—Ç–∞–∫–µ-–ø–æ—Ç–æ–∫–∏-—ñ-–ø—Ä–æ—Ü–µ—Å–∏)
2. [–ü–æ—Ç–æ–∫–∏ vs –ü—Ä–æ—Ü–µ—Å–∏: —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ñ –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ](#–ø–æ—Ç–æ–∫–∏-vs-–ø—Ä–æ—Ü–µ—Å–∏-—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ñ-–≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ)
3. [–Ø–∫ –ø—Ä–∞—Ü—é—é—Ç—å –ø–æ—Ç–æ–∫–∏ –≤ Python](#—è–∫-–ø—Ä–∞—Ü—é—é—Ç—å-–ø–æ—Ç–æ–∫–∏-–≤-python)
4. [Global Interpreter Lock (GIL)](#global-interpreter-lock-gil)
5. [–ß–æ–º—É Python –ø–æ–≤—ñ–ª—å–Ω—ñ—à–∏–π –∑–∞ —ñ–Ω—à—ñ –º–æ–≤–∏ –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ](#—á–æ–º—É-python-–ø–æ–≤—ñ–ª—å–Ω—ñ—à–∏–π-–∑–∞-—ñ–Ω—à—ñ-–º–æ–≤–∏-–≤-–±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ)
6. [–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–æ—Ç–æ–∫–∏, –∞ –∫–æ–ª–∏ –ø—Ä–æ—Ü–µ—Å–∏](#–∫–æ–ª–∏-–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏-–ø–æ—Ç–æ–∫–∏-–∞-–∫–æ–ª–∏-–ø—Ä–æ—Ü–µ—Å–∏)
7. [–¢–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ —ó—Ö —Ä—ñ—à–µ–Ω–Ω—è](#—Ç–∏–ø–æ–≤—ñ-–ø—Ä–æ–±–ª–µ–º–∏-—Ç–∞-—ó—Ö-—Ä—ñ—à–µ–Ω–Ω—è)
8. [–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ —Ç–∞ –º–∞–π–±—É—Ç–Ω—î](#–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏-—Ç–∞-–º–∞–π–±—É—Ç–Ω—î)

---

## –©–æ —Ç–∞–∫–µ –ø–æ—Ç–æ–∫–∏ —ñ –ø—Ä–æ—Ü–µ—Å–∏?

### –ü—Ä–æ—Ü–µ—Å (Process)

**–ü—Ä–æ—Ü–µ—Å** - —Ü–µ –Ω–µ–∑–∞–ª–µ–∂–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞, —â–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –≤ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω—ñ–π —Å–∏—Å—Ç–µ–º—ñ. –£—è–≤—ñ—Ç—å —Å–æ–±—ñ –ø—Ä–æ—Ü–µ—Å —è–∫ –ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–∑–æ–ª—å–æ–≤–∞–Ω–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä, –¥–µ –ø—Ä–∞—Ü—é—î –≤–∞—à –∫–æ–¥.

–ö–æ–∂–µ–Ω –ø—Ä–æ—Ü–µ—Å –º–∞—î:

**1. –í–ª–∞—Å–Ω–∏–π –∞–¥—Ä–µ—Å–Ω–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä –ø–∞–º'—è—Ç—ñ**
   - –ü—Ä–æ—Ü–µ—Å –æ—Ç—Ä–∏–º—É—î –≤—ñ–¥ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏ –≤–∏–¥—ñ–ª–µ–Ω—É –æ–±–ª–∞—Å—Ç—å –ø–∞–º'—è—Ç—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 100 MB —á–∏ 2 GB)
   - –¶–µ–π –ø—Ä–æ—Å—Ç—ñ—Ä –ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–∑–æ–ª—å–æ–≤–∞–Ω–∏–π –≤—ñ–¥ —ñ–Ω—à–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤
   - –ü—Ä–æ—Ü–µ—Å A –Ω–µ –º–æ–∂–µ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –∞–±–æ –∑–º—ñ–Ω–∏—Ç–∏ –ø–∞–º'—è—Ç—å –ø—Ä–æ—Ü–µ—Å—É B
   - –ù–∞–ø—Ä–∏–∫–ª–∞–¥: —è–∫—â–æ —É –≤–∞—Å –≤—ñ–¥–∫—Ä–∏—Ç–æ 3 –≤–∫–ª–∞–¥–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞ Chrome, –∫–æ–∂–Ω–∞ –ø—Ä–∞—Ü—é—î –≤ –æ–∫—Ä–µ–º–æ–º—É –ø—Ä–æ—Ü–µ—Å—ñ –∑ –≤–ª–∞—Å–Ω–æ—é –ø–∞–º'—è—Ç—Ç—é. –Ø–∫—â–æ –æ–¥–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ "–∑–∞–≤–∏—Å–Ω–µ", —ñ–Ω—à—ñ –ø—Ä–æ–¥–æ–≤–∂—É—é—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏

**2. –í–ª–∞—Å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Ç–∞ —Ä–µ—Å—É—Ä—Å–∏**
   - –í—Å—ñ –≥–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —ñ—Å–Ω—É—é—Ç—å –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤ –∫–æ–∂–Ω–æ–º—É –ø—Ä–æ—Ü–µ—Å—ñ
   - –í—ñ–¥–∫—Ä–∏—Ç—ñ —Ñ–∞–π–ª–∏, –º–µ—Ä–µ–∂–µ–≤—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è, —Å–∏—Å—Ç–µ–º–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏ - –≤—Å–µ —É–Ω—ñ–∫–∞–ª—å–Ω–µ
   - –ù–∞–ø—Ä–∏–∫–ª–∞–¥: —è–∫—â–æ –≤–∏ –∑–º—ñ–Ω—é—î—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω—É –∑–º—ñ–Ω–Ω—É `counter = 5` –≤ –æ–¥–Ω–æ–º—É –ø—Ä–æ—Ü–µ—Å—ñ, –≤ —ñ–Ω—à–æ–º—É –ø—Ä–æ—Ü–µ—Å—ñ –≤–æ–Ω–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –±–µ–∑ –∑–º—ñ–Ω

**3. –í–ª–∞—Å–Ω–∏–π —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä Python**
   - –ö–æ–∂–µ–Ω –ø—Ä–æ—Ü–µ—Å –∑–∞–ø—É—Å–∫–∞—î –ø–æ–≤–Ω—É –∫–æ–ø—ñ—é Python —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞
   - –¶–µ –æ–∑–Ω–∞—á–∞—î –≤–ª–∞—Å–Ω–∏–π Global Interpreter Lock (GIL) –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É
   - –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –º–æ–¥—É–ª—ñ —Ç–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –∑–∞–Ω–æ–≤–æ
   - –ü—Ä–∏–∫–ª–∞–¥: —è–∫—â–æ —É –≤–∞—Å —î —Å–∫—Ä–∏–ø—Ç –∑ `import numpy`, –∫–æ–∂–µ–Ω –ø—Ä–æ—Ü–µ—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å numpy —É —Å–≤–æ—é –ø–∞–º'—è—Ç—å –æ–∫—Ä–µ–º–æ

**4. –í–ª–∞—Å–Ω–∏–π —Å—Ç–µ–∫ –≤–∏–∫–ª–∏–∫—ñ–≤**
   - –°—Ç–µ–∫ –∑–±–µ—Ä—ñ–≥–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –≤–∏–∫–ª–∏–∫–∏ —Ñ—É–Ω–∫—Ü—ñ–π (–¥–µ –º–∏ –∑–∞—Ä–∞–∑ –≤ –∫–æ–¥—ñ, –∑–≤—ñ–¥–∫–∏ –≤–∏–∫–ª–∏–∫–∞–ª–∏)
   - –ü–æ–≤–Ω—ñ—Å—Ç—é —ñ–∑–æ–ª—å–æ–≤–∞–Ω–∏–π –≤—ñ–¥ —ñ–Ω—à–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤
   - –ù–∞–ø—Ä–∏–∫–ª–∞–¥: —è–∫—â–æ –ø—Ä–æ—Ü–µ—Å A –≤–∏–∫–ª–∏–∫–∞–≤ —Ñ—É–Ω–∫—Ü—ñ—é `calculate()`, –∞ –ø—Ä–æ—Ü–µ—Å B –≤–∏–∫–ª–∏–∫–∞–≤ `process_data()`, —ó—Ö–Ω—ñ —Å—Ç–µ–∫–∏ –≤–∏–∫–ª–∏–∫—ñ–≤ –Ω–µ –ø–µ—Ä–µ—Ç–∏–Ω–∞—é—Ç—å—Å—è

**–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –ø—Ä–æ—Ü–µ—Å—ñ–≤:**
- –ö–æ–∂–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ Chrome - –æ–∫—Ä–µ–º–∏–π –ø—Ä–æ—Ü–µ—Å (—Ç–æ–º—É –æ–¥–Ω–∞ –∑–∞–≤–∏—Å–ª–∞ –≤–∫–ª–∞–¥–∫–∞ –Ω–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ —ñ–Ω—à—ñ)
- –ö–æ–∂–µ–Ω –≤—ñ–¥–∫—Ä–∏—Ç–∏–π –¥–æ–∫—É–º–µ–Ω—Ç Word - —á–∞—Å—Ç–æ –æ–∫—Ä–µ–º–∏–π –ø—Ä–æ—Ü–µ—Å
- –ö–æ–∂–Ω–∞ –∑–∞–ø—É—â–µ–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –≤ –¥–∏—Å–ø–µ—Ç—á–µ—Ä—ñ –∑–∞–¥–∞—á - –æ–∫—Ä–µ–º–∏–π –ø—Ä–æ—Ü–µ—Å
- –í–µ–±-—Å–µ—Ä–≤–µ—Ä Nginx —Å—Ç–≤–æ—Ä—é—î worker-–ø—Ä–æ—Ü–µ—Å–∏ –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—ñ–≤

### –ü–æ—Ç—ñ–∫ (Thread)

**–ü–æ—Ç—ñ–∫** - —Ü–µ –ª–µ–≥–∫–æ–≤–∞–≥–æ–≤–∞ –æ–¥–∏–Ω–∏—Ü—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –ø—Ä–æ—Ü–µ—Å—É. –ü–æ–¥—É–º–∞–π—Ç–µ –ø—Ä–æ –ø–æ—Ç–æ–∫–∏ —è–∫ –ø—Ä–æ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –æ–¥–Ω—ñ—î—ó –∫–æ–º–∞–Ω–¥–∏, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å –Ω–∞–¥ —Å–ø—ñ–ª—å–Ω–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º.

–£—Å—ñ –ø–æ—Ç–æ–∫–∏ –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É –ø–æ–¥—ñ–ª—è—é—Ç—å:

**1. –°–ø—ñ–ª—å–Ω–∏–π –∞–¥—Ä–µ—Å–Ω–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä –ø–∞–º'—è—Ç—ñ**
   - –í—Å—ñ –ø–æ—Ç–æ–∫–∏ –±–∞—á–∞—Ç—å —ñ –º–æ–∂—É—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –æ–¥–Ω—ñ –π —Ç—ñ —Å–∞–º—ñ –∑–º—ñ–Ω–Ω—ñ
   - –¶–µ —è–∫ –∫—ñ–ª—å–∫–∞ –ª—é–¥–µ–π, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å –∑ –æ–¥–Ω–∏–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–º Google Docs - –≤—Å—ñ –±–∞—á–∞—Ç—å –∑–º—ñ–Ω–∏ –æ–¥—Ä–∞–∑—É
   - –ü–ª—é—Å: —à–≤–∏–¥–∫–∞ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è –º—ñ–∂ –ø–æ—Ç–æ–∫–∞–º–∏
   - –ú—ñ–Ω—É—Å: –ø–æ—Ç—Ä—ñ–±–Ω–∞ –æ–±–µ—Ä–µ–∂–Ω—ñ—Å—Ç—å, —â–æ–± –Ω–µ –∑—ñ–ø—Å—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ –æ–¥–Ω–æ—á–∞—Å–Ω–∏–º–∏ –∑–º—ñ–Ω–∞–º–∏
   - –ù–∞–ø—Ä–∏–∫–ª–∞–¥: —è–∫—â–æ —É –≤–∞—Å —î —Å–ø–∏—Å–æ–∫ `data = []`, –≤—Å—ñ –ø–æ—Ç–æ–∫–∏ –ø—Ä–∞—Ü—é—é—Ç—å –∑ –û–î–ù–ò–ú —ñ –¢–ò–ú –°–ê–ú–ò–ú —Å–ø–∏—Å–∫–æ–º

**2. –°–ø—ñ–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Ç–∞ –æ–±'—î–∫—Ç–∏**
   - –ì–ª–æ–±–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞ `counter` –±—É–¥–µ –æ–¥–Ω—ñ—î—é —ñ —Ç—ñ—î—é –∂ –¥–ª—è –≤—Å—ñ—Ö –ø–æ—Ç–æ–∫—ñ–≤
   - –ó–º—ñ–Ω–∏, –∑—Ä–æ–±–ª–µ–Ω—ñ –æ–¥–Ω–∏–º –ø–æ—Ç–æ–∫–æ–º, –Ω–µ–≥–∞–π–Ω–æ –≤–∏–¥–∏–º—ñ —ñ–Ω—à–∏–º
   - –ü—Ä–∏–∫–ª–∞–¥: —è–∫—â–æ –ü–æ—Ç—ñ–∫ 1 –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î `config['timeout'] = 30`, –ü–æ—Ç—ñ–∫ 2 –≤—ñ–¥—Ä–∞–∑—É –±–∞—á–∏—Ç—å —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è

**3. –û–¥–∏–Ω —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä Python**
   - –í—Å—ñ –ø–æ—Ç–æ–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä Python —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞
   - –°–ø—ñ–ª—å–Ω–∏–π Global Interpreter Lock (GIL) - —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ Python –∫–æ–¥ –æ–¥–Ω–æ—á–∞—Å–Ω–æ
   - –ú–æ–¥—É–ª—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –≤—Å—ñ—Ö –ø–æ—Ç–æ–∫—ñ–≤
   - –¶–µ —è–∫ –æ–¥–Ω–∞ –∫—É—Ö–Ω—è, –¥–µ –ø—Ä–∞—Ü—é—î –∫—ñ–ª—å–∫–∞ –∫—É—Ö–∞—Ä—ñ–≤, –∞–ª–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–ª–∏—Ç—É –º–æ–∂–µ —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω –∑–∞ —Ä–∞–∑

**4. –°–ø—ñ–ª—å–Ω—ñ —Ñ–∞–π–ª–æ–≤—ñ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∏**
   - –Ø–∫—â–æ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ –≤—ñ–¥–∫—Ä–∏–≤ —Ñ–∞–π–ª, —ñ–Ω—à—ñ –ø–æ—Ç–æ–∫–∏ –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç–æ–π —Å–∞–º–∏–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä
   - –ú–µ—Ä–µ–∂–µ–≤—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è, –±–∞–∑–∏ –¥–∞–Ω–∏—Ö - –≤—Å–µ —Å–ø—ñ–ª—å–Ω–µ
   - –ù–∞–ø—Ä–∏–∫–ª–∞–¥: –º–æ–∂–Ω–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö –æ–¥–∏–Ω —Ä–∞–∑ —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ –≤ —Ä—ñ–∑–Ω–∏—Ö –ø–æ—Ç–æ–∫–∞—Ö

**–©–æ —É–Ω—ñ–∫–∞–ª—å–Ω–æ–≥–æ —É –∫–æ–∂–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É:**
- –í–ª–∞—Å–Ω–∏–π —Å—Ç–µ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (–¥–µ –∑–∞—Ä–∞–∑ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∫–æ–¥, —è–∫—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –≤–∏–∫–ª–∏–∫–∞–Ω—ñ)
- –í–ª–∞—Å–Ω–∏–π –ø—Ä–æ–≥—Ä–∞–º–Ω–∏–π –ª—ñ—á–∏–ª—å–Ω–∏–∫ (–Ω–∞ —è–∫—ñ–π —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –º–∏ –∑–∞—Ä–∞–∑)
- –í–ª–∞—Å–Ω—ñ –ª–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ–π

**–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –ø–æ—Ç–æ–∫—ñ–≤:**
- –í–µ–±-–±—Ä–∞—É–∑–µ—Ä: –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, —ñ–Ω—à–∏–π –æ–±—Ä–æ–±–ª—è—î JavaScript, —Ç—Ä–µ—Ç—ñ–π —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —Å—Ç–æ—Ä—ñ–Ω–∫—É
- –¢–µ–∫—Å—Ç–æ–≤–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä: –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ –ø–µ—Ä–µ–≤—ñ—Ä—è—î –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ—ñ—é, —ñ–Ω—à–∏–π –æ–±—Ä–æ–±–ª—è—î –≤–≤–µ–¥–µ–Ω–Ω—è –∑ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏
- –ü—Ä–æ–≥—Ä–∞–º–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤: –∫–æ–∂–µ–Ω –ø–æ—Ç—ñ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –æ–∫—Ä–µ–º–∏–π —Ñ–∞–π–ª, –∞–ª–µ –≤—Å—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Å–ø—ñ–ª—å–Ω–∏–π —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å



### –í—ñ–∑—É–∞–ª—å–Ω–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è


```bash
pip install requests
```

```mermaid
graph TB
    subgraph "–ü—Ä–æ—Ü–µ—Å 1"
        P1[–Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä Python]
        M1[–ü–∞–º'—è—Ç—å –ø—Ä–æ—Ü–µ—Å—É]
        T1[–ü–æ—Ç—ñ–∫ 1]
        T2[–ü–æ—Ç—ñ–∫ 2]
        T3[–ü–æ—Ç—ñ–∫ 3]
        
        P1 --> M1
        T1 --> M1
        T2 --> M1
        T3 --> M1
    end
    
    subgraph "–ü—Ä–æ—Ü–µ—Å 2"
        P2[–Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä Python]
        M2[–ü–∞–º'—è—Ç—å –ø—Ä–æ—Ü–µ—Å—É]
        T4[–ü–æ—Ç—ñ–∫ 1]
        
        P2 --> M2
        T4 --> M2
    end
    
    style M1 fill:#e1f5ff
    style M2 fill:#ffe1e1
```

---

## –ü–æ—Ç–æ–∫–∏ vs –ü—Ä–æ—Ü–µ—Å–∏: —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ñ –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ

### –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | –ü–æ—Ç–æ–∫–∏ (Threads) | –ü—Ä–æ—Ü–µ—Å–∏ (Processes) |
|----------------|------------------|---------------------|
| **–ü–∞–º'—è—Ç—å** | –°–ø—ñ–ª—å–Ω–∞ | –Ü–∑–æ–ª—å–æ–≤–∞–Ω–∞ |
| **–ö–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è** | –ü—Ä–æ—Å—Ç–∞ (—Å–ø—ñ–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ) | –°–∫–ª–∞–¥–Ω–∞ (IPC, Queue, Pipe) |
| **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è** | –®–≤–∏–¥–∫–µ (~1-2 –º—Å) | –ü–æ–≤—ñ–ª—å–Ω–µ (~10-100 –º—Å) |
| **–ù–∞–∫–ª–∞–¥–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏** | –ù–∏–∑—å–∫—ñ (~1-2 MB –Ω–∞ –ø–æ—Ç—ñ–∫) | –í–∏—Å–æ–∫—ñ (~10-50 MB –Ω–∞ –ø—Ä–æ—Ü–µ—Å) |
| **–ë–µ–∑–ø–µ–∫–∞ –¥–∞–Ω–∏—Ö** | –ü–æ—Ç—Ä–µ–±—É—î —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó (Lock, Mutex) | –ü—Ä–∏—Ä–æ–¥–Ω–æ —ñ–∑–æ–ª—å–æ–≤–∞–Ω—ñ |
| **–ü–∞—Ä–∞–ª–µ–ª—ñ–∑–º CPU** | –û–±–º–µ–∂–µ–Ω–∏–π (GIL –≤ Python) | –°–ø—Ä–∞–≤–∂–Ω—ñ–π –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º |
| **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è** | I/O-bound –∑–∞–¥–∞—á—ñ (–º–µ—Ä–µ–∂–∞, —Ñ–∞–π–ª–∏) | CPU-bound –∑–∞–¥–∞—á—ñ (–æ–±—á–∏—Å–ª–µ–Ω–Ω—è) |
| **–°—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å** | –ü–∞–¥—ñ–Ω–Ω—è –æ–¥–Ω–æ–≥–æ = –ø–∞–¥—ñ–Ω–Ω—è –≤—Å—ñ—Ö | –Ü–∑–æ–ª—å–æ–≤–∞–Ω—ñ –∑–±–æ—ó |
| **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å** | –î–æ ~1000 –ø–æ—Ç–æ–∫—ñ–≤ | –î–æ ~100 –ø—Ä–æ—Ü–µ—Å—ñ–≤ |
| **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –∫–æ–¥—É** | –ü—Ä–æ—Å—Ç–∞ (–∞–ª–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è) | –°–∫–ª–∞–¥–Ω—ñ—à–∞ (–∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è –º—ñ–∂ –ø—Ä–æ—Ü–µ—Å–∞–º–∏) |

#### –î–µ—Ç–∞–ª—å–Ω–µ –ø–æ—è—Å–Ω–µ–Ω–Ω—è –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç–µ–π

**1. –ü–∞–º'—è—Ç—å: –°–ø—ñ–ª—å–Ω–∞ vs –Ü–∑–æ–ª—å–æ–≤–∞–Ω–∞**

*–ü–æ—Ç–æ–∫–∏ (–°–ø—ñ–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å):*
```python
# –í—Å—ñ –ø–æ—Ç–æ–∫–∏ –±–∞—á–∞—Ç—å —ñ –º–æ–∂—É—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –æ–¥–Ω—É –∑–º—ñ–Ω–Ω—É
shared_list = []

def thread_worker():
    shared_list.append(1)  # –î–æ—Å—Ç—É–ø –¥–æ —Å–ø—ñ–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫—É
    print(len(shared_list))  # –ë–∞—á–∏–º–æ –∑–º—ñ–Ω–∏ –≤—ñ–¥ —ñ–Ω—à–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤

# –û–±–∏–¥–≤–∞ –ø–æ—Ç–æ–∫–∏ –ø—Ä–∞—Ü—é—é—Ç—å –∑ –û–î–ù–ò–ú —Å–ø–∏—Å–∫–æ–º
t1 = threading.Thread(target=thread_worker)
t2 = threading.Thread(target=thread_worker)
t1.start(); t2.start()
t1.join(); t2.join()
print(shared_list)  # [1, 1] - –æ–±–∏–¥–≤–∞ –ø–æ—Ç–æ–∫–∏ –¥–æ–¥–∞–ª–∏ –µ–ª–µ–º–µ–Ω—Ç–∏
```

*–ü—Ä–æ—Ü–µ—Å–∏ (–Ü–∑–æ–ª—å–æ–≤–∞–Ω–∞ –ø–∞–º'—è—Ç—å):*
```python
shared_list = []

def process_worker():
    shared_list.append(1)  # –ó–º—ñ–Ω—é—î –õ–û–ö–ê–õ–¨–ù–£ –∫–æ–ø—ñ—é
    print(len(shared_list))  # –ë–∞—á–∏—Ç—å —Ç—ñ–ª—å–∫–∏ —Å–≤–æ—ó –∑–º—ñ–Ω–∏

# –ö–æ–∂–µ–Ω –ø—Ä–æ—Ü–µ—Å –º–∞—î –í–õ–ê–°–ù–£ –∫–æ–ø—ñ—é —Å–ø–∏—Å–∫—É
p1 = multiprocessing.Process(target=process_worker)
p2 = multiprocessing.Process(target=process_worker)
p1.start(); p2.start()
p1.join(); p2.join()
print(shared_list)  # [] - –≥–æ–ª–æ–≤–Ω–∏–π –ø—Ä–æ—Ü–µ—Å –Ω–µ –±–∞—á–∏—Ç—å –∑–º—ñ–Ω!
```

**2. –ö–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è: –ü—Ä–æ—Å—Ç–∞ vs –°–∫–ª–∞–¥–Ω–∞**

*–ü–æ—Ç–æ–∫–∏ - –ø—Ä–æ—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –∑–º—ñ–Ω–Ω—ñ:*
```python
result = None
lock = threading.Lock()

def thread_task():
    global result
    with lock:
        result = "–≥–æ—Ç–æ–≤–æ"  # –ü—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –∑–º—ñ–Ω–Ω–æ—ó

t = threading.Thread(target=thread_task)
t.start()
t.join()
print(result)  # "–≥–æ—Ç–æ–≤–æ" - –ª–µ–≥–∫–æ!
```

*–ü—Ä–æ—Ü–µ—Å–∏ - –ø–æ—Ç—Ä—ñ–±–Ω—ñ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –º–µ—Ö–∞–Ω—ñ–∑–º–∏:*
```python
from multiprocessing import Queue

def process_task(queue):
    queue.put("–≥–æ—Ç–æ–≤–æ")  # –ü–µ—Ä–µ–¥–∞—î–º–æ —á–µ—Ä–µ–∑ Queue

queue = Queue()  # –°–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –æ–±'—î–∫—Ç –¥–ª—è –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó
p = multiprocessing.Process(target=process_task, args=(queue,))
p.start()
result = queue.get()  # –û—Ç—Ä–∏–º—É—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
p.join()
print(result)  # "–≥–æ—Ç–æ–≤–æ" - –∞–ª–µ —Å–∫–ª–∞–¥–Ω—ñ—à–µ
```

**3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è: –®–≤–∏–¥–∫–µ vs –ü–æ–≤—ñ–ª—å–Ω–µ**

*–ß–æ–º—É –ø–æ—Ç–æ–∫–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è —à–≤–∏–¥—à–µ:*
- –ü–æ—Ç—Ä—ñ–±–Ω–æ —Ç—ñ–ª—å–∫–∏ –≤–∏–¥—ñ–ª–∏—Ç–∏ —Å—Ç–µ–∫ (~1 MB)
- –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∫–æ–ø—ñ—é–≤–∞—Ç–∏ –ø–∞–º'—è—Ç—å –ø—Ä–æ—Ü–µ—Å—É
- –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –Ω–æ–≤–∏–π —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä
- –ü—Ä–∏–∫–ª–∞–¥: —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è 100 –ø–æ—Ç–æ–∫—ñ–≤ –∑–∞–π–º–∞—î ~100-200 –º—Å

*–ß–æ–º—É –ø—Ä–æ—Ü–µ—Å–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ:*
- –ü–æ—Ç—Ä—ñ–±–Ω–æ —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –≤–µ—Å—å –∞–¥—Ä–µ—Å–Ω–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É (fork)
- –ó–∞–ø—É—Å–∫ –Ω–æ–≤–æ–≥–æ —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ Python (~10-30 MB)
- –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –º–æ–¥—É–ª—ñ–≤ –∑–∞–Ω–æ–≤–æ
- –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–∏—Å—Ç–µ–º–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤
- –ü—Ä–∏–∫–ª–∞–¥: —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è 100 –ø—Ä–æ—Ü–µ—Å—ñ–≤ –º–æ–∂–µ –∑–∞–π–Ω—è—Ç–∏ 1-5 —Å–µ–∫—É–Ω–¥

**4. –ù–∞–∫–ª–∞–¥–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏: –ù–∏–∑—å–∫—ñ vs –í–∏—Å–æ–∫—ñ**

*–ü–æ—Ç–æ–∫–∏ (1-2 MB –Ω–∞ –ø–æ—Ç—ñ–∫):*
- –û—Å–Ω–æ–≤–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏: —Å—Ç–µ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (~1 MB)
- –°–ø—ñ–ª—å–Ω–∏–π heap, –∫–æ–¥, –≥–ª–æ–±–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ
- –ü—Ä–∏–∫–ª–∞–¥: 100 –ø–æ—Ç–æ–∫—ñ–≤ ‚âà 100-200 MB

*–ü—Ä–æ—Ü–µ—Å–∏ (10-50 MB –Ω–∞ –ø—Ä–æ—Ü–µ—Å):*
- –ü–æ–≤–Ω–∞ –∫–æ–ø—ñ—è —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ (~15 MB)
- –ö–æ–ø—ñ—ó –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏—Ö –º–æ–¥—É–ª—ñ–≤ (numpy, pandas —Ç–æ—â–æ)
- –í–ª–∞—Å–Ω–∏–π heap –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É
- –ü—Ä–∏–∫–ª–∞–¥: 100 –ø—Ä–æ—Ü–µ—Å—ñ–≤ ‚âà 1-5 GB

**5. –ë–µ–∑–ø–µ–∫–∞ –¥–∞–Ω–∏—Ö**

*–ü–æ—Ç–æ–∫–∏ - –ø–æ—Ç—Ä—ñ–±–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è:*
```python
counter = 0

def unsafe_increment():
    global counter
    counter += 1  # Race condition! –ù–µ –∞—Ç–æ–º–∞—Ä–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è

# –†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏–π –±–µ–∑ Lock
```

*–ü—Ä–æ—Ü–µ—Å–∏ - –ø—Ä–∏—Ä–æ–¥–Ω–∞ —ñ–∑–æ–ª—è—Ü—ñ—è:*
```python
counter = 0

def safe_increment():
    global counter
    counter += 1  # –ë–µ–∑–ø–µ—á–Ω–æ - —Ü–µ –õ–û–ö–ê–õ–¨–ù–ê –∫–æ–ø—ñ—è

# –ö–æ–∂–µ–Ω –ø—Ä–æ—Ü–µ—Å –º–∞—î –≤–ª–∞—Å–Ω–∏–π counter
```

**6. –ü–∞—Ä–∞–ª–µ–ª—ñ–∑–º CPU**

*–ü–æ—Ç–æ–∫–∏ - –æ–±–º–µ–∂–µ–Ω—ñ GIL:*
```python
# –ù–∞–≤—ñ—Ç—å –Ω–∞ 8-—è–¥–µ—Ä–Ω–æ–º—É CPU –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ 1 —è–¥—Ä–æ –¥–ª—è Python –∫–æ–¥—É
def cpu_task():
    sum(i**2 for i in range(10_000_000))

# 4 –ø–æ—Ç–æ–∫–∏ –ù–ï –ø—Ä–∏—Å–∫–æ—Ä—è—Ç—å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —á–µ—Ä–µ–∑ GIL
threads = [threading.Thread(target=cpu_task) for _ in range(4)]
```

*–ü—Ä–æ—Ü–µ—Å–∏ - —Å–ø—Ä–∞–≤–∂–Ω—ñ–π –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º:*
```python
# –ö–æ–∂–µ–Ω –ø—Ä–æ—Ü–µ—Å –ø—Ä–∞—Ü—é—î –Ω–∞ –æ–∫—Ä–µ–º–æ–º—É —è–¥—Ä—ñ CPU
def cpu_task():
    return sum(i**2 for i in range(10_000_000))

# 4 –ø—Ä–æ—Ü–µ—Å–∏ = –≤ ~4 —Ä–∞–∑–∏ —à–≤–∏–¥—à–µ (—è–∫—â–æ —î 4+ —è–¥—Ä–∞)
with multiprocessing.Pool(4) as pool:
    results = pool.map(cpu_task, range(4))
```

**7. –°—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å**

*–ü–æ—Ç–æ–∫–∏ - —Å–ø—ñ–ª—å–Ω–∞ –¥–æ–ª—è:*
```python
def buggy_thread():
    x = 1 / 0  # Exception!

t = threading.Thread(target=buggy_thread)
t.start()
# –Ø–∫—â–æ –Ω–µ –æ–±—Ä–æ–±–∏—Ç–∏, –º–æ–∂–µ –≤–ø–∞—Å—Ç–∏ –≤—Å—è –ø—Ä–æ–≥—Ä–∞–º–∞
```

*–ü—Ä–æ—Ü–µ—Å–∏ - —ñ–∑–æ–ª—å–æ–≤–∞–Ω—ñ –∑–±–æ—ó:*
```python
def buggy_process():
    x = 1 / 0  # Exception!

p = multiprocessing.Process(target=buggy_process)
p.start()
p.join()
# –ì–æ–ª–æ–≤–Ω–∏–π –ø—Ä–æ—Ü–µ—Å –ø—Ä–æ–¥–æ–≤–∂—É—î —Ä–æ–±–æ—Ç—É, —É–ø–∞–≤ —Ç—ñ–ª—å–∫–∏ –¥–æ—á—ñ—Ä–Ω—ñ–π –ø—Ä–æ—Ü–µ—Å
print("–Ø –≤—Å–µ —â–µ –ø—Ä–∞—Ü—é—é!")
```

–¶—ñ –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤—ñ –ø—Ä–∏ –≤–∏–±–æ—Ä—ñ –º—ñ–∂ –ø–æ—Ç–æ–∫–∞–º–∏ —Ç–∞ –ø—Ä–æ—Ü–µ—Å–∞–º–∏!

### –î–µ—Ç–∞–ª—å–Ω–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

```mermaid
flowchart TD
    subgraph OS[–û–ø–µ—Ä–∞—Ü—ñ–π–Ω–∞ —Å–∏—Å—Ç–µ–º–∞]
        subgraph Process1[–ü—Ä–æ—Ü–µ—Å Python]
            GIL1[GIL Lock]
            Heap1[Heap Memory]
            
            subgraph Thread1[Thread 1]
                Stack1[Stack]
                Code1[Python Bytecode]
            end
            
            subgraph Thread2[Thread 2]
                Stack2[Stack]
                Code2[Python Bytecode]
            end
            
            Thread1 --> GIL1
            Thread2 --> GIL1
            Thread1 --> Heap1
            Thread2 --> Heap1
        end
        
        subgraph Process2[–ü—Ä–æ—Ü–µ—Å Python]
            GIL2[GIL Lock]
            Heap2[Heap Memory]
            
            subgraph Thread3[Thread 1]
                Stack3[Stack]
                Code3[Python Bytecode]
            end
            
            Thread3 --> GIL2
            Thread3 --> Heap2
        end
    end
    
    style GIL1 fill:#ff6b6b
    style GIL2 fill:#ff6b6b
    style Heap1 fill:#4ecdc4
    style Heap2 fill:#4ecdc4
```


### –ü—Ä–∏–∫–ª–∞–¥: –°–ø—ñ–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å —É –ø–æ—Ç–æ–∫–∞—Ö vs —ñ–∑–æ–ª—è—Ü—ñ—è —É –ø—Ä–æ—Ü–µ—Å–∞—Ö

```python
import threading
import multiprocessing
import time

# –ì–ª–æ–±–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞
counter = 0

# ============= –ü–û–¢–û–ö–ò: –°–ü–Ü–õ–¨–ù–ê –ü–ê–ú'–Ø–¢–¨ =============
def thread_worker():
    global counter
    for _ in range(100000):
        counter += 1

threads = [threading.Thread(target=thread_worker) for _ in range(2)]
for t in threads:
    t.start()
for t in threads:
    t.join()

print(f"–ü–æ—Ç–æ–∫–∏ - —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {counter}")  # –ù–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!
# –û—á—ñ–∫—É–≤–∞–ª–∏: 200000, –æ—Ç—Ä–∏–º–∞–ª–∏: ~150000 (race condition)

# ============= –ü–†–û–¶–ï–°–ò: –Ü–ó–û–õ–¨–û–í–ê–ù–ê –ü–ê–ú'–Ø–¢–¨ =============
counter = 0

def process_worker():
    global counter  # –¶–µ –õ–û–ö–ê–õ–¨–ù–ê –∫–æ–ø—ñ—è –≤ –∫–æ–∂–Ω–æ–º—É –ø—Ä–æ—Ü–µ—Å—ñ!
    for _ in range(100000):
        counter += 1
    print(f"–õ–æ–∫–∞–ª—å–Ω–∏–π counter –≤ –ø—Ä–æ—Ü–µ—Å—ñ: {counter}")  # 100000

if __name__ == "__main__":
    processes = [multiprocessing.Process(target=process_worker) for _ in range(2)]
    for p in processes:
        p.start()
    for p in processes:
        p.join()
    
    print(f"–ü—Ä–æ—Ü–µ—Å–∏ - –≥–ª–æ–±–∞–ª—å–Ω–∏–π counter: {counter}")  # 0 (–Ω–µ –∑–º—ñ–Ω–∏–≤—Å—è!)
```


---

## –Ø–∫ –ø—Ä–∞—Ü—é—é—Ç—å –ø–æ—Ç–æ–∫–∏ –≤ Python

### –ñ–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª –ø–æ—Ç–æ–∫—É

```mermaid
stateDiagram-v2
    [*] --> New: threading.Thread()
    New --> Runnable: thread.start()
    Runnable --> Running: –ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ –û–°
    Running --> Waiting: I/O –æ–ø–µ—Ä–∞—Ü—ñ—è
    Running --> Sleeping: time.sleep()
    Running --> Blocked: –û—á—ñ–∫—É–≤–∞–Ω–Ω—è Lock
    Waiting --> Runnable: I/O –∑–∞–≤–µ—Ä—à–µ–Ω–æ
    Sleeping --> Runnable: –ß–∞—Å –≤–∏–π—à–æ–≤
    Blocked --> Runnable: Lock –∑–≤—ñ–ª—å–Ω–µ–Ω–æ
    Running --> Terminated: –§—É–Ω–∫—Ü—ñ—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞
    Terminated --> [*]
```

### –í–Ω—É—Ç—Ä—ñ—à–Ω—è —Ä–æ–±–æ—Ç–∞ –ø–æ—Ç–æ–∫—ñ–≤

–ö–æ–ª–∏ –≤–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –ø–æ—Ç—ñ–∫ —É Python, –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —Å–∫–ª–∞–¥–Ω–∏–π –ø—Ä–æ—Ü–µ—Å –≤–∑–∞—î–º–æ–¥—ñ—ó –º—ñ–∂ Python —ñ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–æ—é —Å–∏—Å—Ç–µ–º–æ—é. –†–æ–∑–≥–ª—è–Ω–µ–º–æ –∫–æ–∂–µ–Ω –∫—Ä–æ–∫ –¥–µ—Ç–∞–ª—å–Ω–æ:

#### 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞ Thread (`threading.Thread(target=func)`)

–ù–∞ —Ü—å–æ–º—É –µ—Ç–∞–ø—ñ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞, –∞–ª–µ —Å–∞–º –ø–æ—Ç—ñ–∫ —â–µ –ù–ï –∑–∞–ø—É—â–µ–Ω–∏–π:

**Python —Å—Ç–≤–æ—Ä—é—î –æ–±–≥–æ—Ä—Ç–∫—É –Ω–∞–≤–∫–æ–ª–æ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É –û–°**
   - –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è Python-–æ–±'—î–∫—Ç –∫–ª–∞—Å—É `Thread`
   - –í—ñ–Ω –º—ñ—Å—Ç–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—é, —è–∫—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ–Ω–∞—Ç–∏ (`target`)
   - –ó–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –∞—Ä–≥—É–º–µ–Ω—Ç–∏ (`args` —Ç–∞ `kwargs`), —è–∫—ñ –±—É–¥—É—Ç—å –ø–µ—Ä–µ–¥–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
   - –ù–∞ —Ü—å–æ–º—É –µ—Ç–∞–ø—ñ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —â–µ –Ω–µ –∑–Ω–∞—î –ø—Ä–æ –ø–æ—Ç—ñ–∫ - —Ü–µ —á–∏—Å—Ç–∞ Python —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö

**–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—é—Ç—å—Å—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö**
   - –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –ø–æ—Ç–æ–∫—É (–ø–æ–∫–∏ —â–æ —Ç–∏–º—á–∞—Å–æ–≤–∏–π)
   - –í—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω: `_started = False`
   - –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—é—Ç—å—Å—è –ø—Ä–∞–ø–æ—Ä—Ü—ñ: `daemon=False`, `name="Thread-N"`
   - –°—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó —Å—Ç–∞–Ω—É –ø–æ—Ç–æ–∫—É
   - –ü—Ä–∏–∫–ª–∞–¥: –∫–æ–ª–∏ –≤–∏ –ø–∏—à–µ—Ç–µ `t = threading.Thread(target=download_file, args=('data.csv',))`, Python –ø—Ä–æ—Å—Ç–æ –≥–æ—Ç—É—î "—ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é", –∞–ª–µ –Ω—ñ—á–æ–≥–æ –Ω–µ –∑–∞–ø—É—Å–∫–∞—î

#### 2. –ó–∞–ø—É—Å–∫ –ø–æ—Ç–æ–∫—É (`thread.start()`)

–¢—É—Ç –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —Å–ø—Ä–∞–≤–∂–Ω—è –º–∞–≥—ñ—è - –≤–∑–∞—î–º–æ–¥—ñ—è –∑ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–æ—é —Å–∏—Å—Ç–µ–º–æ—é:

**Python –≤–∏–∫–ª–∏–∫–∞—î —Å–∏—Å—Ç–µ–º–Ω–∏–π –≤–∏–∫–ª–∏–∫ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É –û–°**
   - –ù–∞ Linux: –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `pthread_create()` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è POSIX –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Ç–æ–∫—ñ–≤
   - –ù–∞ Windows: –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `CreateThread()` - API Windows –¥–ª—è –ø–æ—Ç–æ–∫—ñ–≤
   - –ù–∞ macOS: —Ç–µ–∂ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `pthread_create()` (POSIX-—Å—É–º—ñ—Å–Ω–∞ —Å–∏—Å—Ç–µ–º–∞)
   - –û–° –≤–∏–¥—ñ–ª—è—î —Ä–µ—Å—É—Ä—Å–∏ –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫—É: –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –ø–æ—Ç–æ–∫—É, —Å–∏—Å—Ç–µ–º–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏
   - Python –æ—Ç—Ä–∏–º—É—î –Ω–∞–∑–∞–¥ —Ä–µ–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –ø–æ—Ç–æ–∫—É –≤—ñ–¥ –û–° (PID)
   - –ü—Ä–∏–∫–ª–∞–¥: `thread.start()` –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î Python –æ–±'—î–∫—Ç —É —Å–ø—Ä–∞–≤–∂–Ω—ñ–π —Å–∏—Å—Ç–µ–º–Ω–∏–π –ø–æ—Ç—ñ–∫, —è–∫–æ–º—É –û–° –≤–∏–¥—ñ–ª—è—î —á–∞—Å –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞

**–ù–æ–≤–∏–π –ø–æ—Ç—ñ–∫ –æ—Ç—Ä–∏–º—É—î –≤–ª–∞—Å–Ω–∏–π —Å—Ç–µ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**
   - –û–° –≤–∏–¥—ñ–ª—è—î –ø–∞–º'—è—Ç—å –¥–ª—è —Å—Ç–µ–∫—É –ø–æ—Ç–æ–∫—É (—Ç–∏–ø–æ–≤–æ 1-8 MB –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Å–∏—Å—Ç–µ–º–∏)
   - –°—Ç–µ–∫ –∑–±–µ—Ä—ñ–≥–∞—î –ª–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ–π, –∞–¥—Ä–µ—Å–∏ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è, –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü—ñ–π
   - –ö–æ–∂–µ–Ω –≤–∏–∫–ª–∏–∫ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–æ–¥–∞—î –Ω–æ–≤–∏–π "–∫–∞–¥—Ä" (frame) —É —Å—Ç–µ–∫
   - –ö–æ–ª–∏ —Ñ—É–Ω–∫—Ü—ñ—è –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è, —ó—ó –∫–∞–¥—Ä –≤–∏–¥–∞–ª—è—î—Ç—å—Å—è –∑—ñ —Å—Ç–µ–∫—É
   - –ü—Ä–∏–∫–ª–∞–¥: —è–∫—â–æ –≤–∞—à –ø–æ—Ç—ñ–∫ –≤–∏–∫–ª–∏–∫–∞—î `func1() ‚Üí func2() ‚Üí func3()`, —Å—Ç–µ–∫ –º—ñ—Å—Ç–∏—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –≤—Å—ñ —Ç—Ä–∏ –≤–∏–∫–ª–∏–∫–∏

**–ü–æ—Ç—ñ–∫ –¥–æ–¥–∞—î—Ç—å—Å—è –¥–æ –ø–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫–∞ –û–°**
   - –û–ø–µ—Ä–∞—Ü—ñ–π–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ä–µ—î—Å—Ç—Ä—É—î –Ω–æ–≤–∏–π –ø–æ—Ç—ñ–∫ —É —Å–≤–æ—î–º—É –ø–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫—É (scheduler)
   - –ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ –≤–∏—Ä—ñ—à—É—î, –∫–æ–ª–∏ —ñ —Å–∫—ñ–ª—å–∫–∏ —á–∞—Å—É CPU –æ—Ç—Ä–∏–º–∞—î –∫–æ–∂–µ–Ω –ø–æ—Ç—ñ–∫
   - –ü–æ—Ç—ñ–∫ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å —É —Å—Ç–∞–Ω "–≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è" (Runnable)
   - –û–° –º–æ–∂–µ –ø–æ—á–∞—Ç–∏ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –ø–æ—Ç—ñ–∫ —É –±—É–¥—å-—è–∫–∏–π –º–æ–º–µ–Ω—Ç (–Ω–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –Ω–µ–≥–∞–π–Ω–æ)
   - –ü—Ä–∏–∫–ª–∞–¥: —è–∫—â–æ —É –≤–∞—Å 4 —è–¥—Ä–∞ CPU —ñ 10 –ø–æ—Ç–æ–∫—ñ–≤, –ø–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ —Ä–æ–∑–ø–æ–¥—ñ–ª—è—î –ø—Ä–æ—Ü–µ—Å–æ—Ä–Ω–∏–π —á–∞—Å –º—ñ–∂ –Ω–∏–º–∏

#### 3. –í–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–¥—É

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É –ø–æ—Ç—ñ–∫ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å —É —Ñ–∞–∑—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:

**–ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ –û–° —Ä–æ–∑–ø–æ–¥—ñ–ª—è—î –ø—Ä–æ—Ü–µ—Å–æ—Ä–Ω–∏–π —á–∞—Å –º—ñ–∂ –ø–æ—Ç–æ–∫–∞–º–∏**
   - –ö–æ–∂–µ–Ω –ø–æ—Ç—ñ–∫ –æ—Ç—Ä–∏–º—É—î "—á–∞—Å–æ–≤–∏–π —Å–ª–æ—Ç" (time slice) - –∑–∞–∑–≤–∏—á–∞–π 5-100 –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥
   - –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ñ —Å–ª–æ—Ç—É –û–° –º–æ–∂–µ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏ CPU –Ω–∞ —ñ–Ω—à–∏–π –ø–æ—Ç—ñ–∫ (context switch)
   - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É: –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —Ä–µ–≥—ñ—Å—Ç—Ä–∏ CPU, –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ —Å—Ç–µ–∫—É, –ø—Ä–æ–≥—Ä–∞–º–Ω–∏–π –ª—ñ—á–∏–ª—å–Ω–∏–∫
   - –¶–µ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä–∏—Ç–∏ —ñ–ª—é–∑—ñ—é –æ–¥–Ω–æ—á–∞—Å–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –Ω–∞–≤—ñ—Ç—å –Ω–∞ –æ–¥–Ω–æ–º—É —è–¥—Ä—ñ
   - –ü—Ä–∏–∫–ª–∞–¥: —è–∫—â–æ —É –≤–∞—Å –æ–¥–∏–Ω CPU —ñ –¥–≤–∞ –ø–æ—Ç–æ–∫–∏, –û–° —à–≤–∏–¥–∫–æ –ø–µ—Ä–µ–º–∏–∫–∞—î—Ç—å—Å—è –º—ñ–∂ –Ω–∏–º–∏ (—Ç–∏—Å—è—á—ñ —Ä–∞–∑—ñ–≤ –∑–∞ —Å–µ–∫—É–Ω–¥—É), —Å—Ç–≤–æ—Ä—é—é—á–∏ –≤—Ä–∞–∂–µ–Ω–Ω—è –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ—ó —Ä–æ–±–æ—Ç–∏

**–£ Python –≤—Å—ñ –ø–æ—Ç–æ–∫–∏ –∑–º–∞–≥–∞—é—Ç—å—Å—è –∑–∞ GIL**
   - Global Interpreter Lock (GIL) - —Ü–µ mutex, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î —Ç—ñ–ª—å–∫–∏ –æ–¥–Ω–æ–º—É –ø–æ—Ç–æ–∫—É –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ Python –±–∞–π—Ç-–∫–æ–¥
   - –ü–æ—Ç—ñ–∫ –∑–∞—Ö–æ–ø–ª—é—î GIL ‚Üí –≤–∏–∫–æ–Ω—É—î ~100 —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π ‚Üí –∑–≤—ñ–ª—å–Ω—è—î GIL
   - –Ü–Ω—à—ñ –ø–æ—Ç–æ–∫–∏ —á–µ–∫–∞—é—Ç—å —Å–≤–æ—î—ó —á–µ—Ä–≥–∏ –Ω–∞ GIL
   - –ü—ñ–¥ —á–∞—Å I/O –æ–ø–µ—Ä–∞—Ü—ñ–π (—á–∏—Ç–∞–Ω–Ω—è —Ñ–∞–π–ª—É, –º–µ—Ä–µ–∂–µ–≤–∏–π –∑–∞–ø–∏—Ç) GIL –∑–≤—ñ–ª—å–Ω—è—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
   - –ü—Ä–∏–∫–ª–∞–¥: –ü–æ—Ç—ñ–∫ 1 –≤–∏–∫–æ–Ω—É—î `data.append(5)`, —Ç—Ä–∏–º–∞—é—á–∏ GIL. –ü–æ—Ç—ñ–∫ 2 —á–µ–∫–∞—î. –ö–æ–ª–∏ –ü–æ—Ç—ñ–∫ 1 —Ä–æ–±–∏—Ç—å `requests.get(url)`, –≤—ñ–Ω –∑–≤—ñ–ª—å–Ω—è—î GIL, —ñ –ü–æ—Ç—ñ–∫ 2 –º–æ–∂–µ –ø–æ—á–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

#### 4. –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è

–ö–æ–ª–∏ —Ä–æ–±–æ—Ç–∞ –ø–æ—Ç–æ–∫—É –∑–∞–≤–µ—Ä—à–µ–Ω–∞:

**–ü–æ—Ç—ñ–∫ –∑–∞–≤–µ—Ä—à—É—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó**
   - –§—É–Ω–∫—Ü—ñ—è `target` –¥–æ—Å—è–≥–∞—î `return` –∞–±–æ –∫—ñ–Ω—Ü—è –∫–æ–¥—É
   - –í—Å—ñ –ª–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –∑–Ω–∏—â—É—é—Ç—å—Å—è
   - –°—Ç–µ–∫ –æ—á–∏—â–∞—î—Ç—å—Å—è
   - –ü–æ—Ç—ñ–∫ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å —É —Å—Ç–∞–Ω "Terminated" (–∑–∞–≤–µ—Ä—à–µ–Ω–∏–π)

**–†–µ—Å—É—Ä—Å–∏ –∑–≤—ñ–ª—å–Ω—è—é—Ç—å—Å—è**
   - –ü–∞–º'—è—Ç—å —Å—Ç–µ–∫—É –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω—ñ–π —Å–∏—Å—Ç–µ–º—ñ
   - –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –ø–æ—Ç–æ–∫—É –∑–∞–∫—Ä–∏–≤–∞—î—Ç—å—Å—è
   - Python –ø–æ–∑–Ω–∞—á–∞—î –æ–±'—î–∫—Ç Thread —è–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–π (`_is_stopped = True`)
   - –ü–æ—Ç—ñ–∫ –≤–∏–¥–∞–ª—è—î—Ç—å—Å—è –∑—ñ —Å–ø–∏—Å–∫—É –∞–∫—Ç–∏–≤–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤
   - –ü—Ä–∏–∫–ª–∞–¥: —è–∫—â–æ –ø–æ—Ç—ñ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤ 2 MB —Å—Ç–µ–∫—É, —Ü—è –ø–∞–º'—è—Ç—å —Ç–µ–ø–µ—Ä –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è —ñ–Ω—à–∏—Ö –ø–æ—Ç—Ä–µ–±

**–ë–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–π –ø–æ—Ç—ñ–∫ –º–æ–∂–µ –¥–æ—á–µ–∫–∞—Ç–∏—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —á–µ—Ä–µ–∑ `join()`**
   - `thread.join()` –±–ª–æ–∫—É—î –ø–æ—Ç–æ—á–Ω–∏–π –ø–æ—Ç—ñ–∫ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –¥–æ—á—ñ—Ä–Ω—å–æ–≥–æ
   - –ë–µ–∑ `join()` –≥–æ–ª–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ –º–æ–∂–µ –∑–∞–≤–µ—Ä—à–∏—Ç–∏—Å—è —Ä–∞–Ω—ñ—à–µ, –Ω—ñ–∂ –¥–æ—á—ñ—Ä–Ω—ñ
   - Daemon-–ø–æ—Ç–æ–∫–∏ (–∑ `daemon=True`) –∑–∞–≤–µ—Ä—à—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –≤–∏—Ö–æ–¥—ñ –∑ –ø—Ä–æ–≥—Ä–∞–º–∏
   - `join(timeout=5)` —á–µ–∫–∞—î –º–∞–∫—Å–∏–º—É–º 5 —Å–µ–∫—É–Ω–¥
   - –ü—Ä–∏–∫–ª–∞–¥:
   ```python
   t = threading.Thread(target=long_task)
   t.start()
   # –ì–æ–ª–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ –ø—Ä–æ–¥–æ–≤–∂—É—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
   print("–ü–æ—Ç—ñ–∫ –∑–∞–ø—É—â–µ–Ω–æ")
   t.join()  # –ß–µ–∫–∞—î–º–æ, –ø–æ–∫–∏ long_task() –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è
   print("–ü–æ—Ç—ñ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–æ")
   ```

**–ü–æ–≤–Ω–∏–π –∂–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª –Ω–∞ –ø—Ä–∏–∫–ª–∞–¥—ñ:**

```python
import threading
import time

def worker_function(name):
    print(f"[{name}] –ü–æ—Ç—ñ–∫ –∑–∞–ø—É—â–µ–Ω–æ, ID: {threading.get_ident()}")
    time.sleep(2)  # –Ü–º—ñ—Ç–∞—Ü—ñ—è —Ä–æ–±–æ—Ç–∏
    print(f"[{name}] –ü–æ—Ç—ñ–∫ –∑–∞–≤–µ—Ä—à—É—î —Ä–æ–±–æ—Ç—É")
    return "–†–µ–∑—É–ª—å—Ç–∞—Ç"

# 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è (thread —â–µ –ù–ï –∑–∞–ø—É—â–µ–Ω–∏–π)
t = threading.Thread(target=worker_function, args=("Worker-1",), name="MyThread")
print(f"–°—Ç–≤–æ—Ä–µ–Ω–æ –æ–±'—î–∫—Ç Thread, –∞–ª–µ –û–° —â–µ –Ω–µ –∑–Ω–∞—î –ø—Ä–æ –Ω—å–æ–≥–æ")
print(f"Alive: {t.is_alive()}")  # False - –ø–æ—Ç—ñ–∫ –Ω–µ –∑–∞–ø—É—â–µ–Ω–∏–π

# 2. –ó–∞–ø—É—Å–∫ (—Ç—É—Ç –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è pthread_create)
t.start()
print(f"–í–∏–∫–ª–∏–∫–∞–Ω–æ start(), –û–° —Å—Ç–≤–æ—Ä–∏–ª–∞ —Ä–µ–∞–ª—å–Ω–∏–π –ø–æ—Ç—ñ–∫")
print(f"Alive: {t.is_alive()}")  # True - –ø–æ—Ç—ñ–∫ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è

# 3. –í–∏–∫–æ–Ω–∞–Ω–Ω—è (–ø–æ—Ç—ñ–∫ –ø—Ä–∞—Ü—é—î –≤ —Ñ–æ–Ω—ñ)
time.sleep(0.5)
print(f"–ì–æ–ª–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ –ø—Ä–æ–¥–æ–≤–∂—É—î —Ä–æ–±–æ—Ç—É, –ø–æ–∫–∏ worker –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è")

# 4. –û—á—ñ–∫—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
t.join()
print(f"–ü–æ—Ç—ñ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–æ, —Ä–µ—Å—É—Ä—Å–∏ –∑–≤—ñ–ª—å–Ω–µ–Ω–æ")
print(f"Alive: {t.is_alive()}")  # False - –ø–æ—Ç—ñ–∫ –∑–∞–≤–µ—Ä—à–∏–≤—Å—è
```

–¶–µ –¥–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å —Ç–æ–≥–æ, —â–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è "–ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º" –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –ø–æ—Ç–æ–∫–∞–º–∏ –≤ Python!


### –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –ø–æ—Ç–æ–∫—ñ–≤

```mermaid
sequenceDiagram
    participant OS as –ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ –û–°
    participant T1 as Thread 1
    participant T2 as Thread 2
    participant GIL as GIL Lock
    
    T1->>GIL: –ó–∞—Ö–æ–ø–ª—é—î GIL
    activate T1
    T1->>T1: –í–∏–∫–æ–Ω—É—î 100 —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π
    OS->>T1: –ß–∞—Å –≤–∏–π—à–æ–≤ (time slice)
    T1->>GIL: –ó–≤—ñ–ª—å–Ω—è—î GIL
    deactivate T1
    
    T2->>GIL: –ó–∞—Ö–æ–ø–ª—é—î GIL
    activate T2
    T2->>T2: –í–∏–∫–æ–Ω—É—î 100 —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π
    T2->>T2: I/O –æ–ø–µ—Ä–∞—Ü—ñ—è (—á–∏—Ç–∞–Ω–Ω—è —Ñ–∞–π–ª—É)
    T2->>GIL: –ó–≤—ñ–ª—å–Ω—è—î GIL (–ø—ñ–¥ —á–∞—Å I/O)
    deactivate T2
    
    T1->>GIL: –ó–∞—Ö–æ–ø–ª—é—î GIL
    activate T1
    T1->>T1: –í–∏–∫–æ–Ω—É—î –∫–æ–¥
    deactivate T1
    
    Note over T2: I/O –∑–∞–≤–µ—Ä—à–µ–Ω–æ
    T2->>GIL: –ó–∞—Ö–æ–ø–ª—é—î GIL
    activate T2
    T2->>T2: –ü—Ä–æ–¥–æ–≤–∂—É—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
    deactivate T2
```

---

## Global Interpreter Lock (GIL)

### –©–æ —Ç–∞–∫–µ GIL?

**Global Interpreter Lock (GIL)** - —Ü–µ mutex (–±–ª–æ–∫—É–≤–∞–Ω–Ω—è), —è–∫–∏–π –∑–∞—Ö–∏—â–∞—î –¥–æ—Å—Ç—É–ø –¥–æ –æ–±'—î–∫—Ç—ñ–≤ Python, –∑–∞–ø–æ–±—ñ–≥–∞—é—á–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ–º—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—é Python –±–∞–π—Ç-–∫–æ–¥—É –∫—ñ–ª—å–∫–æ–º–∞ –ø–æ—Ç–æ–∫–∞–º–∏.

**–ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:** –¢—ñ–ª—å–∫–∏ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ Python –∫–æ–¥ —É –±—É–¥—å-—è–∫–∏–π –º–æ–º–µ–Ω—Ç —á–∞—Å—É, –Ω–∞–≤—ñ—Ç—å –Ω–∞ –±–∞–≥–∞—Ç–æ—è–¥–µ—Ä–Ω–æ–º—É –ø—Ä–æ—Ü–µ—Å–æ—Ä—ñ.


### –ù–∞–≤—ñ—â–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω GIL?

GIL —ñ—Å–Ω—É—î –∑ –∫—ñ–ª—å–∫–æ—Ö –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∏—Ö –ø—Ä–∏—á–∏–Ω:

#### 1. **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é –≤ CPython**

CPython (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è Python) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –ø–æ—Å–∏–ª–∞–Ω—å (reference counting) –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –∫–æ–∂–µ–Ω –æ–±'—î–∫—Ç Python –∑–±–µ—Ä—ñ–≥–∞—î –ª—ñ—á–∏–ª—å–Ω–∏–∫ - —Å–∫—ñ–ª—å–∫–∏ –∑–º—ñ–Ω–Ω–∏—Ö –ø–æ—Å–∏–ª–∞—é—Ç—å—Å—è –Ω–∞ –Ω—å–æ–≥–æ.

**–Ø–∫ –ø—Ä–∞—Ü—é—î –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –ø–æ—Å–∏–ª–∞–Ω—å:**

```python
import sys

# –°—Ç–≤–æ—Ä—é—î–º–æ –æ–±'—î–∫—Ç
x = []  # refcount = 1 (—Ç—ñ–ª—å–∫–∏ –∑–º—ñ–Ω–Ω–∞ x)
print(sys.getrefcount(x))  # 2 (x + —Ç–∏–º—á–∞—Å–æ–≤–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤ getrefcount)

y = x  # –©–µ –æ–¥–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ç–æ–π —Å–∞–º–∏–π –æ–±'—î–∫—Ç
print(sys.getrefcount(x))  # 3 (x, y, + getrefcount)

z = x  # –©–µ –æ–¥–Ω–µ
print(sys.getrefcount(x))  # 4 (x, y, z + getrefcount)

del y  # –ó–º–µ–Ω—à—É—î–º–æ –ª—ñ—á–∏–ª—å–Ω–∏–∫
print(sys.getrefcount(x))  # 3 (–∑–∞–ª–∏—à–∏–ª–∏—Å—å x, z + getrefcount)

del z
print(sys.getrefcount(x))  # 2 (–∑–∞–ª–∏—à–∏–≤—Å—è —Ç—ñ–ª—å–∫–∏ x + getrefcount)

# –ö–æ–ª–∏ refcount —Å—Ç–∞—î 0, Python –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª—è—î –æ–±'—î–∫—Ç
```

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º:**
- –ö–æ–∂–µ–Ω –æ–±'—î–∫—Ç –º–∞—î –ø–æ–ª–µ `ob_refcnt` (–ª—ñ—á–∏–ª—å–Ω–∏–∫ –ø–æ—Å–∏–ª–∞–Ω—å)
- –ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è: `ob_refcnt++`
- –ü—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è: `ob_refcnt--`
- –ö–æ–ª–∏ `ob_refcnt == 0`: –æ–±'—î–∫—Ç –≤–∏–¥–∞–ª—è—î—Ç—å—Å—è, –ø–∞–º'—è—Ç—å –∑–≤—ñ–ª—å–Ω—è—î—Ç—å—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞ –±–µ–∑ GIL - RACE CONDITION:**

–£—è–≤—ñ–º–æ, —â–æ GIL –Ω–µ–º–∞—î, —ñ –¥–≤–∞ –ø–æ—Ç–æ–∫–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –ø—Ä–∞—Ü—é—é—Ç—å –∑ –ª—ñ—á–∏–ª—å–Ω–∏–∫–æ–º:

```python
# –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω: x = [1, 2, 3], refcount = 1

# === –ü–æ—Ç—ñ–∫ 1 === –≤–∏–∫–æ–Ω—É—î: y = x
# –ö—Ä–æ–∫ 1: –ß–∏—Ç–∞—î refcount = 1
# –ö—Ä–æ–∫ 2: –û–±—á–∏—Å–ª—é—î: 1 + 1 = 2
# <-- –ü–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è –Ω–∞ –ü–æ—Ç—ñ–∫ 2 -->

# === –ü–æ—Ç—ñ–∫ 2 === –≤–∏–∫–æ–Ω—É—î: z = x
# –ö—Ä–æ–∫ 1: –ß–∏—Ç–∞—î refcount = 1 (!)  <- –ü—Ä–æ–±–ª–µ–º–∞! –ú–∞—î –±—É—Ç–∏ 2
# –ö—Ä–æ–∫ 2: –û–±—á–∏—Å–ª—é—î: 1 + 1 = 2
# –ö—Ä–æ–∫ 3: –ó–∞–ø–∏—Å—É—î refcount = 2

# === –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ –ü–æ—Ç—ñ–∫ 1 ===
# –ö—Ä–æ–∫ 3: –ó–∞–ø–∏—Å—É—î refcount = 2  <- –í—Ç—Ä–∞—Ç–∏–ª–∏ –æ–¥–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è!

# –†–µ–∑—É–ª—å—Ç–∞—Ç: refcount = 2, –∞–ª–µ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ —î 3 –ø–æ—Å–∏–ª–∞–Ω–Ω—è (x, y, z)!
# –¶–µ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞ - –æ–±'—î–∫—Ç –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–∏–π –ø–µ—Ä–µ–¥—á–∞—Å–Ω–æ
```

**–©–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–¥—á–∞—Å–Ω–æ–º—É –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ:**

```python
# –†–µ–∞–ª—å–Ω–∞ —Å–∏—Ç—É–∞—Ü—ñ—è (–±–µ–∑ GIL, –≥—ñ–ø–æ—Ç–µ—Ç–∏—á–Ω–æ):

x = [1, 2, 3]  # refcount = 1
y = x          # refcount –º–∞—î –±—É—Ç–∏ 2, –∞–ª–µ –ø–æ–º–∏–ª–∫–æ–≤–æ = 1

# –ü–æ—Ç—ñ–∫ 1: –≤–∏–¥–∞–ª—è—î x
del x  # refcount —Å—Ç–∞—î 0 -> Python –í–ò–î–ê–õ–Ø–Ñ –æ–±'—î–∫—Ç!

# –ü–æ—Ç—ñ–∫ 2: –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ y
print(y)  # SEGMENTATION FAULT! –ü–∞–º'—è—Ç—å –≤–∂–µ –∑–≤—ñ–ª—å–Ω–µ–Ω–∞
```

**–Ø–∫ GIL —Ä–æ–∑–≤'—è–∑—É—î –ø—Ä–æ–±–ª–µ–º—É:**

```python
# –ó GIL: —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ Python –∫–æ–¥ –æ–¥–Ω–æ—á–∞—Å–Ω–æ

# –ü–æ—Ç—ñ–∫ 1 –∑–∞—Ö–æ–ø–ª—é—î GIL
y = x  # –ê—Ç–æ–º–∞—Ä–Ω–æ: refcount 1 -> 2
# –ü–æ—Ç—ñ–∫ 1 –∑–≤—ñ–ª—å–Ω—è—î GIL

# –¢–µ–ø–µ—Ä –ü–æ—Ç—ñ–∫ 2 –∑–∞—Ö–æ–ø–ª—é—î GIL
z = x  # –ê—Ç–æ–º–∞—Ä–Ω–æ: refcount 2 -> 3
# –ü–æ—Ç—ñ–∫ 2 –∑–≤—ñ–ª—å–Ω—è—î GIL

# –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–≤–∂–¥–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π: refcount = 3
```

**–ß–æ–º—É —Ü–µ —Ç–∞–∫ –≤–∞–∂–ª–∏–≤–æ:**
- CPython –≤–∏–∫–æ–Ω—É—î –º—ñ–ª—å–π–æ–Ω–∏ –æ–ø–µ—Ä–∞—Ü—ñ–π –∑ –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞–º–∏ –∑–∞ —Å–µ–∫—É–Ω–¥—É
- –ö–æ–∂–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è –∑ –æ–±'—î–∫—Ç–æ–º –∑–º—ñ–Ω—é—î refcount
- –ë–µ–∑ GIL —Ç—Ä–µ–±–∞ –±—É–ª–æ –± –±–ª–æ–∫—É–≤–∞—Ç–∏ –ö–û–ñ–ï–ù –æ–±'—î–∫—Ç –æ–∫—Ä–µ–º–æ
- –¶–µ –∑—Ä–æ–±–∏–ª–æ –± Python –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ –ø–æ–≤—ñ–ª—å–Ω–∏–º (–Ω–∞–≤—ñ—Ç—å –≤ –æ–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ)


#### 2. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó C-–±—ñ–±–ª—ñ–æ—Ç–µ–∫**

Python - —Ü–µ "–∫–ª–µ–π" –º—ñ–∂ —à–≤–∏–¥–∫–∏–º–∏ C-–±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞–º–∏. –ë—ñ–ª—å—à—ñ—Å—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫ –Ω–∞–ø–∏—Å–∞–Ω—ñ –Ω–∞ C –¥–ª—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ, –∞–ª–µ –ù–ï –≤—Å—ñ –∑ –Ω–∏—Ö –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ. GIL —Ä–æ–±–∏—Ç—å –±–µ–∑–ø–µ—á–Ω–∏–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–∞–∫–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫.

**–ü—Ä–∏–∫–ª–∞–¥: NumPy**

```python
import numpy as np
import threading

# NumPy –Ω–∞–ø–∏—Å–∞–Ω–æ –Ω–∞ C (–¥–ª—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ)
# –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö NumPy –Ω–µ –º–∞—é—Ç—å –≤–ª–∞—Å–Ω–∏—Ö –±–ª–æ–∫—É–≤–∞–Ω—å

def numpy_operation():
    # –ë–µ–∑ GIL —Ü—è –æ–ø–µ—Ä–∞—Ü—ñ—è –º–æ–≥–ª–∞ –± –ø–æ—à–∫–æ–¥–∏—Ç–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω NumPy
    array = np.array([1, 2, 3, 4, 5])
    result = np.sum(array)  # C-–∫–æ–¥ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ
    squared = np.square(array)  # –©–µ –±—ñ–ª—å—à–µ C-–∫–æ–¥—É
    return result

# –ó–∞–≤–¥—è–∫–∏ GIL: —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ –≤–∏–∫–æ–Ω—É—î NumPy –∫–æ–¥ –æ–¥–Ω–æ—á–∞—Å–Ω–æ
threads = [threading.Thread(target=numpy_operation) for _ in range(10)]
for t in threads: t.start()
for t in threads: t.join()
# –í—Å–µ –ø—Ä–∞—Ü—é—î –±–µ–∑–ø–µ—á–Ω–æ!
```

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º:**

1. **Python –≤–∏–∫–ª–∏–∫–∞—î C-—Ñ—É–Ω–∫—Ü—ñ—é**
   ```c
   // –í—Å–µ—Ä–µ–¥–∏–Ω—ñ NumPy (—Å–ø—Ä–æ—â–µ–Ω–æ):
   PyObject* np_sum(PyArrayObject* array) {
       // –¢—É—Ç –º–∏ –≤ C-–∫–æ–¥—ñ, –±–µ–∑ –∑–∞—Ö–∏—Å—Ç—É
       double sum = 0;
       for (int i = 0; i < array->size; i++) {
           sum += array->data[i];  // –ü—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –ø–∞–º'—è—Ç—ñ
       }
       return PyFloat_FromDouble(sum);
   }
   ```

2. **GIL –∑–∞—Ö–∏—â–∞—î –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**
   - –ü–æ—Ç—ñ–∫ A –∑–∞—Ö–æ–ø–ª—é—î GIL
   - –í–∏–∫–ª–∏–∫–∞—î `np_sum()` - C-–∫–æ–¥ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è
   - –ü–æ—Ç—ñ–∫ B —á–µ–∫–∞—î –Ω–∞ GIL (–Ω–µ –º–æ–∂–µ –ø–µ—Ä–µ—Ä–≤–∞—Ç–∏ C-–∫–æ–¥)
   - –ü–æ—Ç—ñ–∫ A –∑–≤—ñ–ª—å–Ω—è—î GIL –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
   - –¢–µ–ø–µ—Ä –ü–æ—Ç—ñ–∫ B –º–æ–∂–µ –∑–∞—Ö–æ–ø–∏—Ç–∏ GIL

**–ü—Ä–∏–∫–ª–∞–¥ –±–µ–∑ GIL (–≥—ñ–ø–æ—Ç–µ—Ç–∏—á–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞):**

```python
# –£—è–≤—ñ–º–æ, —â–æ GIL –Ω–µ–º–∞—î:

import numpy as np

shared_array = np.array([1, 2, 3, 4, 5])

def modify_array():
    # –ü–æ—Ç—ñ–∫ 1: –∑–±—ñ–ª—å—à—É—î –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏
    for i in range(len(shared_array)):
        shared_array[i] += 1
        # <-- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –º–æ–∂–µ —Å—Ç–∞—Ç–∏—Å—è –¢–£–¢

def read_array():
    # –ü–æ—Ç—ñ–∫ 2: —á–∏—Ç–∞—î –º–∞—Å–∏–≤
    total = np.sum(shared_array)  # –ú–æ–∂–µ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ —á–∞—Å—Ç–∫–æ–≤–æ –æ–Ω–æ–≤–ª–µ–Ω–∏–π –º–∞—Å–∏–≤!
    return total

# –ë–µ–∑ GIL: –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
```

**–ß–æ–º—É –±—ñ–ª—å—à—ñ—Å—Ç—å C-–±—ñ–±–ª—ñ–æ—Ç–µ–∫ –Ω–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ:**

1. **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —ñ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å**
   - –î–æ–¥–∞–≤–∞–Ω–Ω—è –±–ª–æ–∫—É–≤–∞–Ω—å —É–ø–æ–≤—ñ–ª—å–Ω—é—î –∫–æ–¥
   - –°–∫–ª–∞–¥–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –¥–ª—è –≤—Å—ñ—Ö —Ñ—É–Ω–∫—Ü—ñ–π
   - –ë–∞–≥–∞—Ç–æ –±—ñ–±–ª—ñ–æ—Ç–µ–∫ —Å—Ç–≤–æ—Ä—é–≤–∞–ª–∏—Å—è –¥–ª—è –æ–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

2. **–ü—Ä–∏–∫–ª–∞–¥–∏ –Ω–µ–ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏—Ö C-—Ñ—É–Ω–∫—Ü—ñ–π:**
   ```c
   // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ C
   char* strtok(char* str, const char* delim);  // –ù–ï –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∞!
   struct tm* localtime(const time_t* timer);   // –ù–ï –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∞!
   
   // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Å—Ç–∞—Ç–∏—á–Ω—ñ –±—É—Ñ–µ—Ä–∏, —è–∫—ñ –º–æ–∂–µ –ø–æ—à–∫–æ–¥–∏—Ç–∏ —ñ–Ω—à–∏–π –ø–æ—Ç—ñ–∫
   ```

**–Ø–∫ GIL –¥–æ–ø–æ–º–∞–≥–∞—î:**

```python
import ctypes
import threading

# –ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ C-–±—ñ–±–ª—ñ–æ—Ç–µ–∫—É —á–µ—Ä–µ–∑ ctypes
libc = ctypes.CDLL('libc.so.6')

def call_c_function():
    # GIL –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞—Ö–∏—â–∞—î –≤–∏–∫–ª–∏–∫
    result = libc.some_unsafe_function()  # –ë–µ–∑–ø–µ—á–Ω–æ –∑–∞–≤–¥—è–∫–∏ GIL
    return result

# –ë–∞–≥–∞—Ç–æ –ø–æ—Ç–æ–∫—ñ–≤ –º–æ–∂—É—Ç—å –≤–∏–∫–ª–∏–∫–∞—Ç–∏ C-–∫–æ–¥ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º
threads = [threading.Thread(target=call_c_function) for _ in range(100)]
```

**–í–∞–∂–ª–∏–≤–æ:** –î–µ—è–∫—ñ C-–±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –Ø–í–ù–û –∑–≤—ñ–ª—å–Ω—è—é—Ç—å GIL –¥–ª—è –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º—É:

```python
# NumPy, –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –≤–µ–ª–∏–∫–∏–º–∏ –º–∞—Å–∏–≤–∞–º–∏, –ó–í–Ü–õ–¨–ù–Ø–Ñ GIL:
import numpy as np

# –î–ª—è –≤–µ–ª–∏–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π NumPy –∑–≤—ñ–ª—å–Ω—è—î GIL –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ C-–∫–æ–¥—É
big_array = np.random.rand(10_000_000)
result = np.sum(big_array)  # GIL –∑–≤—ñ–ª—å–Ω—è—î—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ np.sum!

# –¶–µ –¥–æ–∑–≤–æ–ª—è—î —ñ–Ω—à–∏–º –ø–æ—Ç–æ–∫–∞–º –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ Python –∫–æ–¥
# –ø–æ–∫–∏ NumPy —Ä–∞—Ö—É—î —Å—É–º—É –≤ C
```

**–ü—ñ–¥—Å—É–º–æ–∫:**
- GIL –¥–æ–∑–≤–æ–ª—è—î –±–µ–∑–ø–µ—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç–∏—Å—è—á—ñ C-—Ä–æ–∑—à–∏—Ä–µ–Ω—å –±–µ–∑ —ó—Ö –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- –ë–µ–∑ GIL –¥–æ–≤–µ–ª–æ—Å—è –± –ø–µ—Ä–µ–ø–∏—Å–∞—Ç–∏ –≤–µ–ª–∏—á–µ–∑–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–¥—É
- –¶–µ –æ–¥–Ω–∞ –∑ –ø—Ä–∏—á–∏–Ω, —á–æ–º—É Python —Å—Ç–∞–≤ —Ç–∞–∫–∏–º –ø–æ–ø—É–ª—è—Ä–Ω–∏–º - –ª–µ–≥–∫–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ C

#### 3. **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –æ–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤–∏—Ö –ø—Ä–æ–≥—Ä–∞–º**

–ü–∞—Ä–∞–¥–æ–∫—Å–∞–ª—å–Ω–æ, –∞–ª–µ GIL —Ä–æ–±–∏—Ç—å –æ–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤—ñ –ø—Ä–æ–≥—Ä–∞–º–∏ –®–í–ò–î–®–ò–ú–ò. –¶–µ –∑–¥–∞—î—Ç—å—Å—è –¥–∏–≤–Ω–∏–º, –∞–ª–µ –¥–∞–≤–∞–π—Ç–µ —Ä–æ–∑–±–µ—Ä–µ–º–æ—Å—è —á–æ–º—É.

**–©–æ GIL –¥–∞—î –æ–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤–∏–º –ø—Ä–æ–≥—Ä–∞–º–∞–º:**

GIL - —Ü–µ –û–î–ò–ù –≥–ª–æ–±–∞–ª—å–Ω–∏–π mutex. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ - –º–∞—Ç–∏ –æ–∫—Ä–µ–º–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –¥–ª—è –ö–û–ñ–ù–û–ì–û –æ–±'—î–∫—Ç–∞. –ü–æ–¥–∏–≤—ñ–º–æ—Å—è –Ω–∞ —Ä—ñ–∑–Ω–∏—Ü—é:

**–ó GIL (–ø–æ—Ç–æ—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è):**
```python
# –ö–æ–∂–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è –∑ –æ–±'—î–∫—Ç–æ–º - –ø—Ä–æ—Å—Ç–∞ —ñ —à–≤–∏–¥–∫–∞

x = [1, 2, 3]
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É:
# 1. –í–∏–¥—ñ–ª–∏—Ç–∏ –ø–∞–º'—è—Ç—å
# 2. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ refcount = 1
# 3. –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏
# –ù–Ü–Ø–ö–ò–• –±–ª–æ–∫—É–≤–∞–Ω—å!

y = x
# –ó–±—ñ–ª—å—à–µ–Ω–Ω—è refcount:
# 1. ob_refcnt++
# –û–¥–Ω–∞ –ø—Ä–æ—Å—Ç–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è!

x.append(4)
# –î–æ–¥–∞–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç–∞:
# 1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä
# 2. –î–æ–¥–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç
# 3. –û–Ω–æ–≤–∏—Ç–∏ –¥–æ–≤–∂–∏–Ω—É
# –ë–µ–∑ –±–ª–æ–∫—É–≤–∞–Ω—å - GIL –≤–∂–µ –∑–∞—Ö–∏—â–∞—î
```

**–ë–µ–∑ GIL (–≥—ñ–ø–æ—Ç–µ—Ç–∏—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è):**
```python
# –ö–æ–∂–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è –ø–æ—Ç—Ä–µ–±—É—î –±–ª–æ–∫—É–≤–∞–Ω—å

x = [1, 2, 3]
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É:
# 1. –í–∏–¥—ñ–ª–∏—Ç–∏ –ø–∞–º'—è—Ç—å
# 2. LOCK(x) - –∑–∞—Ö–æ–ø–∏—Ç–∏ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –æ–±'—î–∫—Ç–∞
# 3. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ refcount = 1
# 4. –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏
# 5. UNLOCK(x) - –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è
# –ù–∞–±–∞–≥–∞—Ç–æ —Å–∫–ª–∞–¥–Ω—ñ—à–µ!

y = x
# –ó–±—ñ–ª—å—à–µ–Ω–Ω—è refcount:
# 1. LOCK(x) - –∑–∞—Ö–æ–ø–∏—Ç–∏ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è
# 2. ob_refcnt++
# 3. UNLOCK(x) - –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è
# –í–∂–µ 3 –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑–∞–º—ñ—Å—Ç—å 1!

x.append(4)
# –î–æ–¥–∞–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç–∞:
# 1. LOCK(x) - –∑–∞—Ö–æ–ø–∏—Ç–∏ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è
# 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä
# 3. LOCK(internal_buffer) - –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –º–∞—Å–∏–≤—É
# 4. –î–æ–¥–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç
# 5. UNLOCK(internal_buffer)
# 6. –û–Ω–æ–≤–∏—Ç–∏ –¥–æ–≤–∂–∏–Ω—É
# 7. UNLOCK(x)
# –í–µ–ª–∏–∫–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ–π –±–ª–æ–∫—É–≤–∞–Ω–Ω—è!
```

**–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ - —Å–ª–æ–≤–Ω–∏–∫:**

```python
# –ó GIL:
data = {'a': 1, 'b': 2}
data['c'] = 3  # –ü—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è

# –ë–µ–∑ GIL (—Ç—Ä–µ–±–∞ –±—É–ª–æ –±):
# 1. LOCK(data) - –±–ª–æ–∫—É–≤–∞–Ω–Ω—è —Å–ª–æ–≤–Ω–∏–∫–∞
# 2. LOCK(hash_table) - –±–ª–æ–∫—É–≤–∞–Ω–Ω—è —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ñ
# 3. –û–±—á–∏—Å–ª–∏—Ç–∏ —Ö–µ—à –∫–ª—é—á–∞ 'c'
# 4. LOCK(hash_bucket) - –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ bucket
# 5. –í—Å—Ç–∞–≤–∏—Ç–∏ –ø–∞—Ä—É –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–Ω—è
# 6. UNLOCK(hash_bucket)
# 7. –û–Ω–æ–≤–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä —Å–ª–æ–≤–Ω–∏–∫–∞
# 8. UNLOCK(hash_table)
# 9. UNLOCK(data)
# –î–µ—Å—è—Ç–∫–∏ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π!
```

**–ß–æ–º—É –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ –¥–æ—Ä–æ–≥–µ:**

1. **–ù–∞–∫–ª–∞–¥–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è:**
   ```python
   # –ö–æ–∂–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è - —Ü–µ —Å–∏—Å—Ç–µ–º–Ω–∏–π –≤–∏–∫–ª–∏–∫
   import threading
   import time
   
   lock = threading.Lock()
   
   # –í–∏–º—ñ—Ä—é—î–º–æ —á–∞—Å –ø—Ä–æ—Å—Ç–æ–≥–æ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è
   start = time.perf_counter()
   for _ in range(1_000_000):
       lock.acquire()
       # –ù—ñ—á–æ–≥–æ –Ω–µ —Ä–æ–±–∏–º–æ
       lock.release()
   duration = time.perf_counter() - start
   print(f"1M –±–ª–æ–∫—É–≤–∞–Ω—å: {duration:.2f}s")  # ~0.5-1 —Å–µ–∫—É–Ω–¥–∞
   
   # –ë–µ–∑ –±–ª–æ–∫—É–≤–∞–Ω—å - –º–∞–π–∂–µ –º–∏—Ç—Ç—î–≤–æ
   start = time.perf_counter()
   for _ in range(1_000_000):
       x = 1  # –ü—Ä–æ—Å—Ç–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è
   duration = time.perf_counter() - start
   print(f"1M –ø—Ä–∏—Å–≤–æ—î–Ω—å: {duration:.2f}s")  # ~0.02 —Å–µ–∫—É–Ω–¥–∏
   ```

2. **–ü–∞–º'—è—Ç—å –Ω–∞ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è:**
   - –ö–æ–∂–µ–Ω lock - —Ü–µ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ 16-24 –±–∞–π—Ç–∏
   - –î–ª—è –º—ñ–ª—å–π–æ–Ω—ñ–≤ –æ–±'—î–∫—Ç—ñ–≤ —Ü–µ –≥—ñ–≥–∞–±–∞–π—Ç–∏ –ø–∞–º'—è—Ç—ñ!
   - –ü—Ä–∏–∫–ª–∞–¥: —Å–ø–∏—Å–æ–∫ –∑ 10 –º–ª–Ω –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –ø–æ—Ç—Ä–µ–±—É–≤–∞–≤ –±–∏ 160+ MB —Ç—ñ–ª—å–∫–∏ –Ω–∞ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è

3. **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –∫–æ–¥—É:**
   - –¢—Ä–µ–±–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–ø–æ—Ä—è–¥–∫—É–≤–∞—Ç–∏ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è (—â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ deadlock)
   - –ö–æ–∂–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è —Å—Ç–∞—î —Å–∫–ª–∞–¥–Ω—ñ—à–æ—é
   - –ë—ñ–ª—å—à–µ —à–∞–Ω—Å—ñ–≤ –Ω–∞ –ø–æ–º–∏–ª–∫–∏

**–ë–µ–Ω—á–º–∞—Ä–∫: GIL vs Fine-grained locks**

```python
# –°–∏–º—É–ª—è—Ü—ñ—è: –ø–æ—Ä—ñ–≤–Ω—è—î–º–æ —à–≤–∏–¥–∫—ñ—Å—Ç—å –∑ —ñ –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –±–ª–æ–∫—É–≤–∞–Ω—å

import threading
import time

# –í–µ—Ä—Å—ñ—è 1: –ó GIL (–±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –±–ª–æ–∫—É–≤–∞–Ω—å)
def with_gil():
    data = []
    for i in range(100_000):
        data.append(i)
        data[i // 2] = i * 2  # –ß–∏—Ç–∞–Ω–Ω—è/–∑–∞–ø–∏—Å
        len(data)  # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–∑–º—ñ—Ä—É
    return data

# –í–µ—Ä—Å—ñ—è 2: –°–∏–º—É–ª—è—Ü—ñ—è –±–µ–∑ GIL (–∑ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è–º–∏ –∫–æ–∂–Ω–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó)
def without_gil_simulation():
    data = []
    lock = threading.Lock()
    for i in range(100_000):
        with lock:
            data.append(i)
        with lock:
            data[i // 2] = i * 2
        with lock:
            len(data)
    return data

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
start = time.perf_counter()
with_gil()
time_with_gil = time.perf_counter() - start

start = time.perf_counter()
without_gil_simulation()
time_without_gil = time.perf_counter() - start

print(f"–ó GIL: {time_with_gil:.3f}s")
print(f"–ë–µ–∑ GIL (—Å–∏–º—É–ª—è—Ü—ñ—è): {time_without_gil:.3f}s")
print(f"–†—ñ–∑–Ω–∏—Ü—è: {time_without_gil / time_with_gil:.1f}x –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ")
# –†–µ–∑—É–ª—å—Ç–∞—Ç: ~3-5x –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ –±–µ–∑ GIL!
```

**–í–∏—Å–Ω–æ–≤–æ–∫:**
- GIL –¥–æ–∑–≤–æ–ª—è—î Python –±—É—Ç–∏ —à–≤–∏–¥–∫–∏–º —É –æ–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ
- –ë–µ–∑ –Ω—å–æ–≥–æ –¥–æ–≤–µ–ª–æ—Å—è –± –ø–ª–∞—Ç–∏—Ç–∏ –∑–∞ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –ø–æ—Ç–æ–∫–∏ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è
- –¶–µ trade-off: –ø—Ä–æ—Å—Ç–æ—Ç–∞ —ñ —à–≤–∏–¥–∫—ñ—Å—Ç—å –≤ –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–æ–º—É —Ä–µ–∂–∏–º—ñ vs –æ–±–º–µ–∂–µ–Ω–Ω—è –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω–æ–º—É

### –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–±–ª–µ–º–∏ GIL

```mermaid
graph TB
    subgraph "–ë–µ–∑ GIL (—Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–æ)"
        CPU1[CPU Core 1] --> T1[Thread 1: –í–∏–∫–æ–Ω—É—î Python]
        CPU2[CPU Core 2] --> T2[Thread 2: –í–∏–∫–æ–Ω—É—î Python]
        CPU3[CPU Core 3] --> T3[Thread 3: –í–∏–∫–æ–Ω—É—î Python]
        CPU4[CPU Core 4] --> T4[Thread 4: –í–∏–∫–æ–Ω—É—î Python]
    end
    
    subgraph "–ó GIL (—Ä–µ–∞–ª—å–Ω—ñ—Å—Ç—å)"
        CPU1a[CPU Core 1] --> GIL_T1[Thread 1: –í–∏–∫–æ–Ω—É—î]
        CPU2a[CPU Core 2] -.-> GIL_T2[Thread 2: –ß–µ–∫–∞—î GIL]
        CPU3a[CPU Core 3] -.-> GIL_T3[Thread 3: –ß–µ–∫–∞—î GIL]
        CPU4a[CPU Core 4] -.-> GIL_T4[Thread 4: –ß–µ–∫–∞—î GIL]
        
        GIL_LOCK[GIL] --> GIL_T1
    end
    
    style GIL_LOCK fill:#ff6b6b
    style GIL_T2 fill:#ffed4e,stroke:#333,stroke-dasharray: 5 5
    style GIL_T3 fill:#ffed4e,stroke:#333,stroke-dasharray: 5 5
    style GIL_T4 fill:#ffed4e,stroke:#333,stroke-dasharray: 5 5
```


### –ö–æ–ª–∏ GIL –∑–≤—ñ–ª—å–Ω—è—î—Ç—å—Å—è?

GIL –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≤—ñ–ª—å–Ω—è—î—Ç—å—Å—è –≤ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö:

1. **I/O –æ–ø–µ—Ä–∞—Ü—ñ—ó** (—á–∏—Ç–∞–Ω–Ω—è/–∑–∞–ø–∏—Å —Ñ–∞–π–ª—ñ–≤, –º–µ—Ä–µ–∂–µ–≤—ñ –∑–∞–ø–∏—Ç–∏)
2. **–í–∏–∫–ª–∏–∫–∏ C-—Ñ—É–Ω–∫—Ü—ñ–π**, —è–∫—ñ —è–≤–Ω–æ –∑–≤—ñ–ª—å–Ω—è—é—Ç—å GIL
3. **–ü—ñ—Å–ª—è N —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π** (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 100 –±–∞–π—Ç-–∫–æ–¥—ñ–≤)
4. **time.sleep()**

```python
import threading
import time
import requests

def cpu_bound_task():
    """–¢—Ä–∏–º–∞—î GIL –≤–µ—Å—å —á–∞—Å"""
    total = 0
    for i in range(10_000_000):
        total += i
    return total

def io_bound_task():
    """–ó–≤—ñ–ª—å–Ω—è—î GIL –ø—ñ–¥ —á–∞—Å I/O"""
    response = requests.get('https://api.github.com')
    return response.status_code

# CPU-bound: –ø–æ—Ç–æ–∫–∏ –Ω–µ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å
start = time.time()
threads = [threading.Thread(target=cpu_bound_task) for _ in range(4)]
for t in threads: t.start()
for t in threads: t.join()
print(f"CPU-bound –∑ –ø–æ—Ç–æ–∫–∞–º–∏: {time.time() - start:.2f}s")

# I/O-bound: –ø–æ—Ç–æ–∫–∏ –∑–Ω–∞—á–Ω–æ –ø—Ä–∏—Å–∫–æ—Ä—é—é—Ç—å
start = time.time()
threads = [threading.Thread(target=io_bound_task) for _ in range(4)]
for t in threads: t.start()
for t in threads: t.join()
print(f"I/O-bound –∑ –ø–æ—Ç–æ–∫–∞–º–∏: {time.time() - start:.2f}s")
```


### –ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç: –≤–ø–ª–∏–≤ GIL –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

```python
import threading
import multiprocessing
import time

def fibonacci(n):
    """CPU-intensive –æ–±—á–∏—Å–ª–µ–Ω–Ω—è"""
    if n <= 1:
        return n
    return fibonacci(n-1) + fibonacci(n-2)

def benchmark_sequential():
    """–ü–æ—Å–ª—ñ–¥–æ–≤–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è"""
    start = time.time()
    results = [fibonacci(35) for _ in range(4)]
    return time.time() - start

def benchmark_threading():
    """–ó –ø–æ—Ç–æ–∫–∞–º–∏ (–æ–±–º–µ–∂–µ–Ω–æ GIL)"""
    start = time.time()
    threads = [threading.Thread(target=fibonacci, args=(35,)) for _ in range(4)]
    for t in threads: t.start()
    for t in threads: t.join()
    return time.time() - start

def benchmark_multiprocessing():
    """–ó –ø—Ä–æ—Ü–µ—Å–∞–º–∏ (–±–µ–∑ GIL)"""
    start = time.time()
    with multiprocessing.Pool(4) as pool:
        pool.map(fibonacci, [35] * 4)
    return time.time() - start

if __name__ == "__main__":
    print(f"–ü–æ—Å–ª—ñ–¥–æ–≤–Ω–æ:        {benchmark_sequential():.2f}s")
    print(f"Threading (GIL):   {benchmark_threading():.2f}s")  # ~—Ç–∞–∫–∞ –∂ —à–≤–∏–¥–∫—ñ—Å—Ç—å
    print(f"Multiprocessing:   {benchmark_multiprocessing():.2f}s")  # ~–≤ 4 —Ä–∞–∑–∏ —à–≤–∏–¥—à–µ
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –Ω–∞ 4-—è–¥–µ—Ä–Ω–æ–º—É –ø—Ä–æ—Ü–µ—Å–æ—Ä—ñ:**
- –ü–æ—Å–ª—ñ–¥–æ–≤–Ω–æ: 12.5s
- Threading: 12.8s (–Ω–∞–≤—ñ—Ç—å —Ç—Ä–æ—Ö–∏ –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ!)
- Multiprocessing: 3.4s (—Å–ø—Ä–∞–≤–∂–Ω—ñ–π –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º)


---

## –ß–æ–º—É Python –ø–æ–≤—ñ–ª—å–Ω—ñ—à–∏–π –∑–∞ —ñ–Ω—à—ñ –º–æ–≤–∏ –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ

### –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ —ñ–Ω—à–∏–º–∏ –º–æ–≤–∞–º–∏

```mermaid
graph LR
    subgraph "Python (CPython)"
        P1[Thread 1] --> GIL1[GIL]
        P2[Thread 2] --> GIL1
        P3[Thread 3] --> GIL1
        GIL1 --> CPU1[1 CPU Core]
    end
    
    subgraph "Java / C# / Go"
        J1[Thread 1] --> CPU2[CPU Core 1]
        J2[Thread 2] --> CPU3[CPU Core 2]
        J3[Thread 3] --> CPU4[CPU Core 3]
    end
    
    style GIL1 fill:#ff6b6b
    style CPU1 fill:#4ecdc4
    style CPU2 fill:#95e1d3
    style CPU3 fill:#95e1d3
    style CPU4 fill:#95e1d3
```

### –î–µ—Ç–∞–ª—å–Ω–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è

| –û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å | Python (CPython) | Java | Go | C++ |
|-------------|------------------|------|-------|-----|
| **GIL** | ‚úÖ –Ñ | ‚ùå –ù–µ–º–∞—î | ‚ùå –ù–µ–º–∞—î | ‚ùå –ù–µ–º–∞—î |
| **–°–ø—Ä–∞–≤–∂–Ω—è –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤—ñ—Å—Ç—å** | ‚ùå –¢—ñ–ª—å–∫–∏ I/O | ‚úÖ –¢–∞–∫ | ‚úÖ –¢–∞–∫ | ‚úÖ –¢–∞–∫ |
| **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é** | Reference counting | Garbage collector | Garbage collector | Manual/Smart pointers |
| **–®–≤–∏–¥–∫—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Ç–æ–∫—É** | –®–≤–∏–¥–∫–æ | –ü–æ–≤—ñ–ª—å–Ω—ñ—à–µ | –î—É–∂–µ —à–≤–∏–¥–∫–æ (goroutines) | –®–≤–∏–¥–∫–æ |
| **–ù–∞–∫–ª–∞–¥–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏ GIL** | –í–∏—Å–æ–∫—ñ –¥–ª—è CPU | - | - | - |


### –ß–æ–º—É —ñ–Ω—à—ñ –º–æ–≤–∏ –Ω–µ –º–∞—é—Ç—å GIL?

#### Java
```java
// Java –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å–∫–ª–∞–¥–Ω–∏–π Garbage Collector
// –ö–æ–∂–µ–Ω –æ–±'—î–∫—Ç –º–∞—î –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∑ –º–µ—Ç–∞–¥–∞–Ω–∏–º–∏ –¥–ª—è GC
// –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –Ω–∞ —Ä—ñ–≤–Ω—ñ –æ–±'—î–∫—Ç—ñ–≤ —á–µ—Ä–µ–∑ synchronized

public class Counter {
    private int count = 0;
    
    public synchronized void increment() {
        count++;  // –ê—Ç–æ–º–∞—Ä–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è –∑–∞–≤–¥—è–∫–∏ synchronized
    }
}
```

#### Go
```go
// Go –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î goroutines (–ª–µ–≥–∫–æ–≤–∞–≥–æ–≤—ñ –ø–æ—Ç–æ–∫–∏)
// –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞ –∑–±—ñ—Ä–∫–∞ —Å–º—ñ—Ç—Ç—è
// –ö–∞–Ω–∞–ª–∏ –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ—ó –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó

func worker(ch chan int) {
    for i := 0; i < 1000; i++ {
        ch <- i  // –ë–µ–∑–ø–µ—á–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ —á–µ—Ä–µ–∑ –∫–∞–Ω–∞–ª
    }
}

func main() {
    ch := make(chan int)
    go worker(ch)  // Goroutine –±–µ–∑ GIL!
    go worker(ch)
}
```


#### C++
```cpp
// C++ –¥–∞—î –ø–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç—É
// –†—É—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é –∞–±–æ smart pointers
// std::mutex –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó

#include <thread>
#include <mutex>

std::mutex mtx;
int counter = 0;

void increment() {
    std::lock_guard<std::mutex> lock(mtx);
    counter++;  // –ó–∞—Ö–∏—â–µ–Ω–æ mutex
}

int main() {
    std::thread t1(increment);
    std::thread t2(increment);
    // –°–ø—Ä–∞–≤–∂–Ω—ñ–π –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º –±–µ–∑ GIL!
}
```

### –û—Å–Ω–æ–≤–Ω—ñ –ø—Ä–∏—á–∏–Ω–∏ –ø–æ–≤—ñ–ª—å–Ω–æ—Å—Ç—ñ Python

1. **GIL –æ–±–º–µ–∂—É—î –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º CPU**
   - –¢—ñ–ª—å–∫–∏ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ –≤–∏–∫–æ–Ω—É—î Python –∫–æ–¥
   - –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≤—Å—ñ —è–¥—Ä–∞ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞

2. **–Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–æ–≤–∞–Ω–∞ –º–æ–≤–∞**
   - –ë–∞–π—Ç-–∫–æ–¥ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ—é –º–∞—à–∏–Ω–æ—é
   - Java JIT –∫–æ–º–ø—ñ–ª—é—î —á–∞—Å—Ç–æ –≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏–π –∫–æ–¥
   - C++/Go –∫–æ–º–ø—ñ–ª—é—é—Ç—å—Å—è –≤ –Ω–∞—Ç–∏–≤–Ω–∏–π –º–∞—à–∏–Ω–Ω–∏–π –∫–æ–¥

3. **–î–∏–Ω–∞–º—ñ—á–Ω–∞ —Ç–∏–ø—ñ–∑–∞—Ü—ñ—è**
   - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—ñ–≤ —É runtime
   - –î–æ–¥–∞—Ç–∫–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –ø—Ä–∏ –∫–æ–∂–Ω—ñ–π –¥—ñ—ó

4. **Reference counting overhead**
   - –ö–æ–∂–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è –∑–º—ñ–Ω—é—î –ª—ñ—á–∏–ª—å–Ω–∏–∫–∏ –ø–æ—Å–∏–ª–∞–Ω—å
   - –î–æ–¥–∞—Ç–∫–æ–≤—ñ –∞—Ç–æ–º–∞—Ä–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ GIL


### –ë–µ–Ω—á–º–∞—Ä–∫: Python vs —ñ–Ω—à—ñ –º–æ–≤–∏

```python
# Python - –æ–±—á–∏—Å–ª–µ–Ω–Ω—è 10M —á–∏—Å–µ–ª –§—ñ–±–æ–Ω–∞—á—á—ñ
import time
import threading

def fib(n):
    if n <= 1: return n
    return fib(n-1) + fib(n-2)

start = time.time()
threads = [threading.Thread(target=fib, args=(30,)) for _ in range(4)]
for t in threads: t.start()
for t in threads: t.join()
print(f"Python: {time.time() - start:.2f}s")  # ~5.2s
```

**–ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:**
- Python (threads): 5.2s
- Python (processes): 1.4s
- Java (threads): 1.1s
- Go (goroutines): 0.9s
- C++ (threads): 0.7s

---

## –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–æ—Ç–æ–∫–∏, –∞ –∫–æ–ª–∏ –ø—Ä–æ—Ü–µ—Å–∏

### –î–µ—Ä–µ–≤–æ —Ä—ñ—à–µ–Ω—å

```mermaid
graph TD
    A[–ü–æ—Ç—Ä—ñ–±–Ω–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ñ—Å—Ç—å?] --> B{–¢–∏–ø –∑–∞–¥–∞—á—ñ}
    
    B -->|I/O-bound| C[–ë–∞–≥–∞—Ç–æ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è?]
    B -->|CPU-bound| D[–í–∞–∂–∫—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è?]
    
    C -->|–¢–∞–∫| E[üîµ THREADING]
    C -->|–ù—ñ| F[–ú–æ–∂–ª–∏–≤–æ asyncio]
    
    D -->|–¢–∞–∫| G[üü¢ MULTIPROCESSING]
    D -->|–ü–æ—Ç—Ä—ñ–±–µ–Ω —Å–ø—Ä–∞–≤–∂–Ω—ñ–π –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º?| H{–°–∫—ñ–ª—å–∫–∏ —è–¥–µ—Ä?}
    
    H -->|1 —è–¥—Ä–æ| I[Threading –Ω–µ –¥–æ–ø–æ–º–æ–∂–µ]
    H -->|–ë–∞–≥–∞—Ç–æ —è–¥–µ—Ä| G
    
    E --> E1[Web scraping<br/>API requests<br/>File I/O<br/>Database queries]
    G --> G1[Image processing<br/>Data analysis<br/>Machine learning<br/>Encryption]
    
    style E fill:#4a90e2
    style G fill:#50c878
```


### –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Threading –¥–ª—è:

‚úÖ **I/O-bound –æ–ø–µ—Ä–∞—Ü—ñ–π**
- –ú–µ—Ä–µ–∂–µ–≤—ñ –∑–∞–ø–∏—Ç–∏ (HTTP, API)
- –ß–∏—Ç–∞–Ω–Ω—è/–∑–∞–ø–∏—Å —Ñ–∞–π–ª—ñ–≤
- –†–æ–±–æ—Ç–∞ –∑ –±–∞–∑–∞–º–∏ –¥–∞–Ω–∏—Ö
- Web scraping

```python
import threading
import requests

def download_page(url):
    response = requests.get(url)
    print(f"Downloaded {len(response.content)} bytes from {url}")

urls = ['https://example.com', 'https://python.org', 'https://github.com']
threads = [threading.Thread(target=download_page, args=(url,)) for url in urls]

for t in threads: t.start()
for t in threads: t.join()
```

‚úÖ **–ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∞ —Å–ø—ñ–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å**
- –°–ø—ñ–ª—å–Ω–∏–π –∫–µ—à
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—è –º—ñ–∂ –∑–∞–¥–∞—á–∞–º–∏
- –®–≤–∏–¥–∫–∞ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è

‚úÖ **–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–æ—Ç–∫–∏—Ö –∑–∞–¥–∞—á**
- –ù–∏–∑—å–∫—ñ –Ω–∞–∫–ª–∞–¥–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
- –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Multiprocessing –¥–ª—è:

‚úÖ **CPU-bound –æ–ø–µ—Ä–∞—Ü—ñ–π**
- –û–±—á–∏—Å–ª–µ–Ω–Ω—è
- –û–±—Ä–æ–±–∫–∞ –∑–æ–±—Ä–∞–∂–µ–Ω—å
- –ú–∞—à–∏–Ω–Ω–µ –Ω–∞–≤—á–∞–Ω–Ω—è
- –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—è
- –°—Ç–∏—Å–Ω–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö


```python
import multiprocessing
from PIL import Image
import numpy as np

def process_image(image_path):
    """CPU-intensive –æ–ø–µ—Ä–∞—Ü—ñ—è"""
    img = Image.open(image_path)
    data = np.array(img)
    # –°–∫–ª–∞–¥–Ω–∞ –æ–±—Ä–æ–±–∫–∞...
    grayscale = data.mean(axis=2)
    return grayscale

if __name__ == "__main__":
    images = ['img1.jpg', 'img2.jpg', 'img3.jpg', 'img4.jpg']
    
    with multiprocessing.Pool(4) as pool:
        results = pool.map(process_image, images)
```

‚úÖ **–Ü–∑–æ–ª—è—Ü—ñ—è**
- –ù–µ–∑–∞–ª–µ–∂–Ω—ñ –∑–∞–¥–∞—á—ñ
- –ü–æ—Ç—Ä–µ–±–∞ –≤ —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ (crash isolation)

‚úÖ **–û–±—Ö—ñ–¥ GIL**
- –ü–æ—Ç—Ä–µ–±–∞ –≤ —Å–ø—Ä–∞–≤–∂–Ω—å–æ–º—É –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º—ñ
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤—Å—ñ—Ö —è–¥–µ—Ä CPU

### –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏

#### –ü—Ä–∏–∫–ª–∞–¥ 1: Web Scraping (Threading)

```python
import threading
import requests
from bs4 import BeautifulSoup
from queue import Queue
import time

class WebScraper:
    def __init__(self, num_threads=5):
        self.queue = Queue()
        self.results = []
        self.lock = threading.Lock()
        self.num_threads = num_threads
    
    def worker(self):
        while True:
            url = self.queue.get()
            if url is None:
                break
            
            try:
                response = requests.get(url, timeout=5)
                soup = BeautifulSoup(response.content, 'html.parser')
                title = soup.find('title')
                
                with self.lock:
                    self.results.append({
                        'url': url,
                        'title': title.text if title else 'No title'
                    })
            except Exception as e:
                print(f"Error scraping {url}: {e}")
            finally:
                self.queue.task_done()
    
    def scrape(self, urls):
        # –°—Ç–≤–æ—Ä—é—î–º–æ –ø–æ—Ç–æ–∫–∏
        threads = []
        for _ in range(self.num_threads):
            t = threading.Thread(target=self.worker)
            t.start()
            threads.append(t)
        
        # –î–æ–¥–∞—î–º–æ URL –≤ —á–µ—Ä–≥—É
        for url in urls:
            self.queue.put(url)
        
        # –ß–µ–∫–∞—î–º–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
        self.queue.join()
        
        # –ó—É–ø–∏–Ω—è—î–º–æ –ø–æ—Ç–æ–∫–∏
        for _ in range(self.num_threads):
            self.queue.put(None)
        for t in threads:
            t.join()
        
        return self.results

# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
urls = [f'https://example.com/page{i}' for i in range(50)]
scraper = WebScraper(num_threads=10)
results = scraper.scrape(urls)
```


#### –ü—Ä–∏–∫–ª–∞–¥ 2: –û–±—Ä–æ–±–∫–∞ –∑–æ–±—Ä–∞–∂–µ–Ω—å (Multiprocessing)

```python
import multiprocessing
from PIL import Image, ImageFilter
import os

def apply_filters(image_path):
    """CPU-intensive –æ–±—Ä–æ–±–∫–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è"""
    try:
        img = Image.open(image_path)
        
        # –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ —Ä—ñ–∑–Ω—ñ —Ñ—ñ–ª—å—Ç—Ä–∏
        blurred = img.filter(ImageFilter.GaussianBlur(5))
        sharpened = img.filter(ImageFilter.SHARPEN)
        edges = img.filter(ImageFilter.FIND_EDGES)
        
        # –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
        base_name = os.path.basename(image_path)
        name, ext = os.path.splitext(base_name)
        
        blurred.save(f'{name}_blurred{ext}')
        sharpened.save(f'{name}_sharpened{ext}')
        edges.save(f'{name}_edges{ext}')
        
        return f"Processed {image_path}"
    except Exception as e:
        return f"Error processing {image_path}: {e}"

if __name__ == "__main__":
    # –°–ø–∏—Å–æ–∫ –∑–æ–±—Ä–∞–∂–µ–Ω—å –¥–ª—è –æ–±—Ä–æ–±–∫–∏
    images = ['photo1.jpg', 'photo2.jpg', 'photo3.jpg', 'photo4.jpg']
    
    # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –≤—Å—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ —è–¥—Ä–∞
    num_processes = multiprocessing.cpu_count()
    
    with multiprocessing.Pool(num_processes) as pool:
        results = pool.map(apply_filters, images)
    
    for result in results:
        print(result)
```

---

## –¢–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ —ó—Ö —Ä—ñ—à–µ–Ω–Ω—è

### 1. Race Condition (–ü–µ—Ä–µ–≥–æ–Ω–∏)

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–≤–∞ –ø–æ—Ç–æ–∫–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –∑–º—ñ–Ω—é—é—Ç—å —Å–ø—ñ–ª—å–Ω—É –∑–º—ñ–Ω–Ω—É

```python
import threading

counter = 0

def increment():
    global counter
    for _ in range(100000):
        counter += 1  # –ù–ï –∞—Ç–æ–º–∞—Ä–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è!

threads = [threading.Thread(target=increment) for _ in range(2)]
for t in threads: t.start()
for t in threads: t.join()

print(counter)  # –û—á—ñ–∫—É–≤–∞–ª–∏ 200000, –æ—Ç—Ä–∏–º–∞–ª–∏ ~150000
```

**–ß–æ–º—É —Ü–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è:**

```python
# counter += 1 –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ —Ü–µ:
# 1. LOAD counter (–ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è)
# 2. ADD 1 (–¥–æ–¥–∞—Ç–∏ 1)
# 3. STORE counter (–∑–∞–ø–∏—Å–∞—Ç–∏ –Ω–∞–∑–∞–¥)

# –ü–æ—Ç—ñ–∫ 1: LOAD counter (0)
# –ü–æ—Ç—ñ–∫ 2: LOAD counter (0)  <- –û–±–∏–¥–≤–∞ –ø—Ä–æ—á–∏—Ç–∞–ª–∏ 0!
# –ü–æ—Ç—ñ–∫ 1: ADD 1 -> 1
# –ü–æ—Ç—ñ–∫ 2: ADD 1 -> 1
# –ü–æ—Ç—ñ–∫ 1: STORE (1)
# –ü–æ—Ç—ñ–∫ 2: STORE (1)  <- –í—Ç—Ä–∞—Ç–∏–ª–∏ –æ–¥–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ—é!
```


**–†—ñ—à–µ–Ω–Ω—è 1: Lock**

```python
import threading

counter = 0
lock = threading.Lock()

def increment_safe():
    global counter
    for _ in range(100000):
        with lock:  # –ê–±–æ lock.acquire() ... lock.release()
            counter += 1

threads = [threading.Thread(target=increment_safe) for _ in range(2)]
for t in threads: t.start()
for t in threads: t.join()

print(counter)  # –ó–∞–≤–∂–¥–∏ 200000!
```

**–†—ñ—à–µ–Ω–Ω—è 2: Atomic –æ–ø–µ—Ä–∞—Ü—ñ—ó**

```python
import threading
from collections import deque

# deque.append() —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∏–º –≤ CPython
safe_list = deque()

def add_items():
    for i in range(100000):
        safe_list.append(i)

threads = [threading.Thread(target=add_items) for _ in range(2)]
for t in threads: t.start()
for t in threads: t.join()

print(len(safe_list))  # –ó–∞–≤–∂–¥–∏ 200000
```

### 2. Deadlock (–í–∑–∞—î–º–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è)

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–≤–∞ –ø–æ—Ç–æ–∫–∏ —á–µ–∫–∞—é—Ç—å –æ–¥–∏–Ω –Ω–∞ –æ–¥–Ω–æ–≥–æ

```python
import threading

lock1 = threading.Lock()
lock2 = threading.Lock()

def thread1():
    with lock1:
        print("Thread 1: –∑–∞—Ö–æ–ø–∏–≤ lock1")
        time.sleep(0.1)
        with lock2:  # –ß–µ–∫–∞—î lock2, –∞–ª–µ –π–æ–≥–æ —Ç—Ä–∏–º–∞—î thread2
            print("Thread 1: –∑–∞—Ö–æ–ø–∏–≤ lock2")

def thread2():
    with lock2:
        print("Thread 2: –∑–∞—Ö–æ–ø–∏–≤ lock2")
        time.sleep(0.1)
        with lock1:  # –ß–µ–∫–∞—î lock1, –∞–ª–µ –π–æ–≥–æ —Ç—Ä–∏–º–∞—î thread1
            print("Thread 2: –∑–∞—Ö–æ–ø–∏–≤ lock1")

t1 = threading.Thread(target=thread1)
t2 = threading.Thread(target=thread2)
t1.start()
t2.start()
# –ü—Ä–æ–≥—Ä–∞–º–∞ –∑–∞–≤–∏—Å–Ω–µ –Ω–∞–∑–∞–≤–∂–¥–∏!
```


**–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è Deadlock:**

```mermaid
sequenceDiagram
    participant T1 as Thread 1
    participant L1 as Lock 1
    participant L2 as Lock 2
    participant T2 as Thread 2
    
    T1->>L1: –ó–∞—Ö–æ–ø–ª—é—î Lock 1
    activate L1
    T2->>L2: –ó–∞—Ö–æ–ø–ª—é—î Lock 2
    activate L2
    
    Note over T1: –ü–æ—Ç—Ä—ñ–±–µ–Ω Lock 2
    Note over T2: –ü–æ—Ç—Ä—ñ–±–µ–Ω Lock 1
    
    T1->>L2: –ß–µ–∫–∞—î Lock 2...
    T2->>L1: –ß–µ–∫–∞—î Lock 1...
    
    Note over T1,T2: DEADLOCK! –û–±–∏–¥–≤–∞ —á–µ–∫–∞—é—Ç—å –Ω–∞–∑–∞–≤–∂–¥–∏
```

**–†—ñ—à–µ–Ω–Ω—è 1: –ü–æ—Ä—è–¥–æ–∫ –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –ª–æ–∫—ñ–≤**

```python
import threading

lock1 = threading.Lock()
lock2 = threading.Lock()

def safe_thread1():
    with lock1:  # –ó–∞–≤–∂–¥–∏ —Å–ø–æ—á–∞—Ç–∫—É lock1
        with lock2:  # –ü–æ—Ç—ñ–º lock2
            print("Thread 1: –æ–±–∏–¥–≤–∞ –ª–æ–∫–∏")

def safe_thread2():
    with lock1:  # –¢–∞–∫–∏–π —Å–∞–º–∏–π –ø–æ—Ä—è–¥–æ–∫!
        with lock2:
            print("Thread 2: –æ–±–∏–¥–≤–∞ –ª–æ–∫–∏")
```

**–†—ñ—à–µ–Ω–Ω—è 2: Timeout**

```python
import threading
import time

def thread_with_timeout():
    while True:
        acquired1 = lock1.acquire(timeout=1)
        if not acquired1:
            continue
        
        try:
            acquired2 = lock2.acquire(timeout=1)
            if not acquired2:
                lock1.release()
                continue
            
            try:
                # –†–æ–±–æ—Ç–∞ –∑ –æ–±–æ–º–∞ –ª–æ–∫–∞–º–∏
                print("Got both locks!")
                break
            finally:
                lock2.release()
        finally:
            lock1.release()
```


### 3. Memory Leaks –≤ –ø–æ—Ç–æ–∫–∞—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Ç–æ–∫–∏ –Ω–µ –∑–∞–≤–µ—Ä—à—É—é—Ç—å—Å—è —ñ —É—Ç—Ä–∏–º—É—é—Ç—å —Ä–µ—Å—É—Ä—Å–∏

```python
import threading
import time

def leaky_worker():
    large_data = [0] * 10_000_000  # 80 MB
    while True:  # –ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π —Ü–∏–∫–ª!
        time.sleep(1)

# –°—Ç–≤–æ—Ä—é—î–º–æ 10 –ø–æ—Ç–æ–∫—ñ–≤
for i in range(10):
    t = threading.Thread(target=leaky_worker)
    t.start()
    # –ù–µ –≤–∏–∫–ª–∏–∫–∞—î–º–æ t.join() - –ø–æ—Ç–æ–∫–∏ –ø—Ä–∞—Ü—é—é—Ç—å —É —Ñ–æ–Ω—ñ
    # –ù–µ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø–æ—Ç—ñ–∫

# –ü–æ—Ç–æ–∫–∏ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è, –ø–∞–º'—è—Ç—å –Ω–µ –∑–≤—ñ–ª—å–Ω–∏—Ç—å—Å—è!
# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ: 800 MB+
```

**–†—ñ—à–µ–Ω–Ω—è: Daemon –ø–æ—Ç–æ–∫–∏ + –ø—Ä–∞–≤–∏–ª—å–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è**

```python
import threading
import time

shutdown_event = threading.Event()

def clean_worker():
    large_data = [0] * 10_000_000
    while not shutdown_event.is_set():
        time.sleep(1)
    print("Worker shutdown cleanly")

threads = []
for i in range(10):
    t = threading.Thread(target=clean_worker)
    t.daemon = True  # –ü–æ—Ç—ñ–∫ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –ø—Ä–∏ –≤–∏—Ö–æ–¥—ñ –∑ –ø—Ä–æ–≥—Ä–∞–º–∏
    t.start()
    threads.append(t)

# –ö–æ–ª–∏ —Ç—Ä–µ–±–∞ –∑–∞–≤–µ—Ä—à–∏—Ç–∏
shutdown_event.set()
for t in threads:
    t.join(timeout=5)
```

### 4. GIL Thrashing (–ö–æ–Ω—Ñ–ª—ñ–∫—Ç –∑–∞ GIL)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–Ω–∞–¥—Ç–æ –±–∞–≥–∞—Ç–æ –ø–æ—Ç–æ–∫—ñ–≤ –∫–æ–Ω–∫—É—Ä—É—é—Ç—å –∑–∞ GIL

```python
import threading

def cpu_intensive():
    total = 0
    for i in range(10_000_000):
        total += i
    return total

# 100 –ø–æ—Ç–æ–∫—ñ–≤ –∫–æ–Ω–∫—É—Ä—É—é—Ç—å –∑–∞ GIL - –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ñ—á–Ω–æ –ø–æ–≤—ñ–ª—å–Ω–æ!
threads = [threading.Thread(target=cpu_intensive) for _ in range(100)]
for t in threads: t.start()
for t in threads: t.join()
```


**–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è GIL Thrashing:**

```mermaid
gantt
    title GIL Thrashing: 4 –ø–æ—Ç–æ–∫–∏ –∑–º–∞–≥–∞—é—Ç—å—Å—è –∑–∞ GIL
    dateFormat X
    axisFormat %S
    
    section Thread 1
    –í–∏–∫–æ–Ω–∞–Ω–Ω—è     :active, 0, 1
    –ß–µ–∫–∞—î GIL     :crit, 1, 3
    –í–∏–∫–æ–Ω–∞–Ω–Ω—è     :active, 3, 1
    –ß–µ–∫–∞—î GIL     :crit, 4, 2
    
    section Thread 2
    –ß–µ–∫–∞—î GIL     :crit, 0, 1
    –í–∏–∫–æ–Ω–∞–Ω–Ω—è     :active, 1, 1
    –ß–µ–∫–∞—î GIL     :crit, 2, 2
    –í–∏–∫–æ–Ω–∞–Ω–Ω—è     :active, 4, 1
    
    section Thread 3
    –ß–µ–∫–∞—î GIL     :crit, 0, 2
    –í–∏–∫–æ–Ω–∞–Ω–Ω—è     :active, 2, 1
    –ß–µ–∫–∞—î GIL     :crit, 3, 3
    
    section Thread 4
    –ß–µ–∫–∞—î GIL     :crit, 0, 4
    –í–∏–∫–æ–Ω–∞–Ω–Ω—è     :active, 4, 2
```

**–†—ñ—à–µ–Ω–Ω—è: ThreadPoolExecutor –∑ –æ–±–º–µ–∂–µ–Ω–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é –ø–æ—Ç–æ–∫—ñ–≤**

```python
from concurrent.futures import ThreadPoolExecutor
import multiprocessing

# –û–ø—Ç–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—Ç–æ–∫—ñ–≤
num_workers = min(32, (multiprocessing.cpu_count() or 1) + 4)

with ThreadPoolExecutor(max_workers=num_workers) as executor:
    futures = [executor.submit(cpu_intensive) for _ in range(100)]
    results = [f.result() for f in futures]
```

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ —Ç–∞ –º–∞–π–±—É—Ç–Ω—î

### 1. AsyncIO (–¥–ª—è I/O-bound)

AsyncIO - —Ü–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –ø–æ—Ç–æ–∫–∞–º –¥–ª—è I/O –æ–ø–µ—Ä–∞—Ü—ñ–π –±–µ–∑ –Ω–∞–∫–ª–∞–¥–Ω–∏—Ö –≤–∏—Ç—Ä–∞—Ç GIL:

```python
import asyncio
import aiohttp

async def fetch_url(session, url):
    async with session.get(url) as response:
        return await response.text()

async def main():
    urls = [f'https://example.com/page{i}' for i in range(100)]
    
    async with aiohttp.ClientSession() as session:
        tasks = [fetch_url(session, url) for url in urls]
        results = await asyncio.gather(*tasks)
    
    return results

# –û–¥–∏–Ω –ø–æ—Ç—ñ–∫, –∞–ª–µ —Ç–∏—Å—è—á—ñ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤!
asyncio.run(main())
```


**–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è Threading vs AsyncIO:**

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Threading | AsyncIO |
|----------------|-----------|---------|
| **–ú–æ–¥–µ–ª—å** | Preemptive multitasking | Cooperative multitasking |
| **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É** | –û–° (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ) | –ü—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç (await) |
| **–ù–∞–∫–ª–∞–¥–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏** | –í–∏—Å–æ–∫—ñ (~1-2 MB –Ω–∞ –ø–æ—Ç—ñ–∫) | –ù–∏–∑—å–∫—ñ (~50 KB –Ω–∞ –∫–æ—Ä—É—Ç–∏–Ω—É) |
| **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å** | ~1000 –ø–æ—Ç–æ–∫—ñ–≤ | ~100000 –∫–æ—Ä—É—Ç–∏–Ω |
| **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å** | –ü—Ä–æ—Å—Ç–∞ | –°–∫–ª–∞–¥–Ω—ñ—à–∞ (async/await) |
| **Use case** | I/O –∑ –±–ª–æ–∫—É—é—á–∏–º–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞–º–∏ | I/O –∑ async –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞–º–∏ |

### 2. Python 3.13+ - PEP 703 (No-GIL Python)

–£ Python 3.13 (–æ—á—ñ–∫—É—î—Ç—å—Å—è 2024-2025) –ø–ª–∞–Ω—É—î—Ç—å—Å—è **–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–µ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è GIL**!

```python
# Python 3.13+ (–µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ)
# –ó–∞–ø—É—Å–∫ –±–µ–∑ GIL:
# python -X gil=0 script.py

import threading

def cpu_bound():
    total = sum(i*i for i in range(10_000_000))
    return total

# –ó –≤–∏–º–∫–Ω–µ–Ω–∏–º GIL - —Å–ø—Ä–∞–≤–∂–Ω—ñ–π –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º!
threads = [threading.Thread(target=cpu_bound) for _ in range(4)]
for t in threads: t.start()
for t in threads: t.join()
```

**–©–æ –∑–º—ñ–Ω–∏—Ç—å—Å—è:**

‚úÖ –°–ø—Ä–∞–≤–∂–Ω—è –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤—ñ—Å—Ç—å –¥–ª—è CPU-bound –∑–∞–¥–∞—á
‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤—Å—ñ—Ö —è–¥–µ—Ä CPU
‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ –∑ C-—Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è–º–∏
‚ö†Ô∏è –ú–æ–∂–ª–∏–≤–∞ –ø–æ–≤—ñ–ª—å–Ω—ñ—à–∞ –æ–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å


### 3. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó Python

#### PyPy
```python
# PyPy - JIT –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –±–µ–∑ GIL –¥–ª—è –¥–µ—è–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
# –®–≤–∏–¥—à–µ —É 3-5 —Ä–∞–∑—ñ–≤ –¥–ª—è CPU-bound –∫–æ–¥—É
# pypy3 script.py
```

#### Jython / IronPython
```python
# Jython - Python –Ω–∞ JVM (–±–µ–∑ GIL!)
# IronPython - Python –Ω–∞ .NET (–±–µ–∑ GIL!)
# –ê–ª–µ –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ —Ç–∞ –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å Python 3.9+
```

### 4. –ì—ñ–±—Ä–∏–¥–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥

–ù–∞–π–∫—Ä–∞—â–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è - –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –ø—ñ–¥—Ö–æ–¥–∏:

```python
import asyncio
import multiprocessing
from concurrent.futures import ProcessPoolExecutor
import aiohttp

async def fetch_and_process(url):
    """–ì—ñ–±—Ä–∏–¥: AsyncIO –¥–ª—è I/O + Processes –¥–ª—è CPU"""
    
    # I/O —á–µ—Ä–µ–∑ AsyncIO
    async with aiohttp.ClientSession() as session:
        async with session.get(url) as response:
            data = await response.json()
    
    # CPU-intensive —á–µ—Ä–µ–∑ ProcessPool
    with ProcessPoolExecutor() as executor:
        result = await asyncio.get_event_loop().run_in_executor(
            executor, process_data, data
        )
    
    return result

def process_data(data):
    """CPU-intensive –æ–±—Ä–æ–±–∫–∞ –≤ –æ–∫—Ä–µ–º–æ–º—É –ø—Ä–æ—Ü–µ—Å—ñ"""
    # –í–∞–∂–∫—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è...
    return processed_result

async def main():
    urls = ['https://api.example.com/data1', 'https://api.example.com/data2']
    results = await asyncio.gather(*[fetch_and_process(url) for url in urls])

asyncio.run(main())
```


---

## –ü—ñ–¥—Å—É–º–∫–æ–≤–∞ —Ç–∞–±–ª–∏—Ü—è —Ä—ñ—à–µ–Ω—å

```mermaid
graph LR
    A[–ó–∞–¥–∞—á–∞] --> B{–¢–∏–ø –æ–ø–µ—Ä–∞—Ü—ñ—ó}
    
    B -->|I/O-bound| C{–ö—ñ–ª—å–∫—ñ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ–π}
    B -->|CPU-bound| D{–ü–æ—Ç—Ä—ñ–±–µ–Ω –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º?}
    
    C -->|< 100| E[threading.Thread]
    C -->|100-1000| F[ThreadPoolExecutor]
    C -->|> 1000| G[asyncio]
    
    D -->|–¢–∞–∫| H[multiprocessing.Pool]
    D -->|–ù—ñ| I[–û–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤–∏–π –∫–æ–¥]
    
    E --> E1[–ü—Ä–æ—Å—Ç–∞ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è<br/>–°–ø—ñ–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å]
    F --> F1[–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è<br/>Thread pool pattern]
    G --> G1[–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å<br/>–ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏]
    H --> H1[–°–ø—Ä–∞–≤–∂–Ω—ñ–π –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º<br/>–í—Å—ñ —è–¥—Ä–∞ CPU]
    I --> I1[–ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ<br/>–ë–µ–∑ –Ω–∞–∫–ª–∞–¥–Ω–∏—Ö –≤–∏—Ç—Ä–∞—Ç]
    
    style E fill:#4a90e2
    style F fill:#4a90e2
    style G fill:#9b59b6
    style H fill:#50c878
    style I fill:#95a5a6
```

## –ù–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏

### ‚úÖ DO (–†–æ–±—ñ—Ç—å —Ç–∞–∫):

1. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ context managers**
```python
with lock:
    # –ö—Ä–∏—Ç–∏—á–Ω–∞ —Å–µ–∫—Ü—ñ—è
    shared_data.append(item)
# Lock –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≤—ñ–ª—å–Ω–∏—Ç—å—Å—è
```

2. **–û–±–º–µ–∂—É–π—Ç–µ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—Ç–æ–∫—ñ–≤**
```python
from concurrent.futures import ThreadPoolExecutor

# –ù–µ –±—ñ–ª—å—à–µ –Ω—ñ–∂ –ø–æ—Ç—Ä—ñ–±–Ω–æ
max_workers = min(32, (os.cpu_count() or 1) + 4)
with ThreadPoolExecutor(max_workers=max_workers) as executor:
    results = executor.map(func, items)
```

3. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Queue –¥–ª—è –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó**
```python
from queue import Queue

queue = Queue()
# –ü–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–∞ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è
queue.put(item)
item = queue.get()
```


4. **–í—Å—Ç–∞–Ω–æ–≤–ª—é–π—Ç–µ timeout**
```python
thread.join(timeout=5)
if thread.is_alive():
    print("Thread didn't finish in time")
```

5. **–õ–æ–≥—É–π—Ç–µ –ø–æ–º–∏–ª–∫–∏ –≤ –ø–æ—Ç–æ–∫–∞—Ö**
```python
import logging
import threading

logging.basicConfig(level=logging.INFO)

def worker():
    try:
        # –†–æ–±–æ—Ç–∞...
        pass
    except Exception as e:
        logging.error(f"Error in thread {threading.current_thread().name}: {e}")
```

### ‚ùå DON'T (–ù–µ —Ä–æ–±—ñ—Ç—å —Ç–∞–∫):

1. **–ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –±–µ–∑ Lock**
```python
# ‚ùå –ü–û–ì–ê–ù–û
counter = 0
def increment():
    global counter
    counter += 1  # Race condition!
```

2. **–ù–µ —Å—Ç–≤–æ—Ä—é–π—Ç–µ –∑–∞–Ω–∞–¥—Ç–æ –±–∞–≥–∞—Ç–æ –ø–æ—Ç–æ–∫—ñ–≤**
```python
# ‚ùå –ü–û–ì–ê–ù–û - 10000 –ø–æ—Ç–æ–∫—ñ–≤!
for i in range(10000):
    threading.Thread(target=work).start()

# ‚úÖ –î–û–ë–†–ï - –æ–±–º–µ–∂–µ–Ω–∏–π pool
with ThreadPoolExecutor(max_workers=50) as executor:
    executor.map(work, range(10000))
```

3. **–ù–µ —ñ–≥–Ω–æ—Ä—É–π—Ç–µ daemon threads**
```python
# ‚ùå –ü–û–ì–ê–ù–û - daemon –ø–æ—Ç–æ–∫–∏ –º–æ–∂—É—Ç—å –æ–±—ñ—Ä–≤–∞—Ç–∏—Å—è
t = threading.Thread(target=important_work)
t.daemon = True  # –ó–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –ø—Ä–∏ –≤–∏—Ö–æ–¥—ñ, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –Ω–µ –∑–∞–∫—ñ–Ω—á–∏–≤ —Ä–æ–±–æ—Ç—É!
t.start()

# ‚úÖ –î–û–ë–†–ï
t.start()
t.join()  # –î–æ—á–µ–∫–∞—î–º–æ—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
```


4. **–ù–µ –±–ª–æ–∫—É–π—Ç–µ –ø–æ—Ç–æ–∫–∏ –Ω–∞–¥–æ–≤–≥–æ**
```python
# ‚ùå –ü–û–ì–ê–ù–û
def worker():
    while True:
        time.sleep(10)  # –ë–ª–æ–∫—É—î –ø–æ—Ç—ñ–∫
        check_queue()

# ‚úÖ –î–û–ë–†–ï
def worker():
    while not shutdown_event.wait(timeout=10):  # –ú–æ–∂–Ω–∞ –ø–µ—Ä–µ—Ä–≤–∞—Ç–∏
        check_queue()
```

5. **–ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ threading –¥–ª—è CPU-bound**
```python
# ‚ùå –ü–û–ì–ê–ù–û –¥–ª—è CPU-intensive
import threading
def heavy_computation():
    return sum(i*i for i in range(10_000_000))

threads = [threading.Thread(target=heavy_computation) for _ in range(4)]
# GIL –æ–±–º–µ–∂–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å!

# ‚úÖ –î–û–ë–†–ï - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ multiprocessing
import multiprocessing
with multiprocessing.Pool(4) as pool:
    results = pool.map(heavy_computation, [None]*4)
```

---

## Debugging —Ç–∞ –ø—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è

### –í–∏—è–≤–ª–µ–Ω–Ω—è race conditions

```python
import threading
import time

# –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è race conditions
class RaceDetector:
    def __init__(self):
        self.accesses = {}
        self.lock = threading.Lock()
    
    def track_access(self, variable_name, is_write=False):
        thread_id = threading.get_ident()
        
        with self.lock:
            if variable_name not in self.accesses:
                self.accesses[variable_name] = []
            
            self.accesses[variable_name].append({
                'thread': thread_id,
                'write': is_write,
                'time': time.time()
            })
    
    def analyze(self):
        for var, accesses in self.accesses.items():
            writes = [a for a in accesses if a['write']]
            if len(writes) > 1:
                print(f"‚ö†Ô∏è Potential race condition on '{var}'")
                print(f"   Multiple writes detected: {len(writes)}")

# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
detector = RaceDetector()

counter = 0

def worker():
    global counter
    detector.track_access('counter', is_write=True)
    counter += 1

threads = [threading.Thread(target=worker) for _ in range(10)]
for t in threads: t.start()
for t in threads: t.join()

detector.analyze()
```


### –ü—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è –ø–æ—Ç–æ–∫—ñ–≤

```python
import threading
import cProfile
import pstats
from io import StringIO

def profile_thread(func):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è –ø–æ—Ç–æ–∫—ñ–≤"""
    def wrapper(*args, **kwargs):
        profiler = cProfile.Profile()
        profiler.enable()
        
        result = func(*args, **kwargs)
        
        profiler.disable()
        
        # –í–∏–≤–µ–¥–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
        s = StringIO()
        ps = pstats.Stats(profiler, stream=s)
        ps.sort_stats('cumulative')
        ps.print_stats(10)
        
        print(f"\n=== Profile for {func.__name__} ===")
        print(s.getvalue())
        
        return result
    return wrapper

@profile_thread
def worker_task():
    total = sum(i*i for i in range(1_000_000))
    return total

thread = threading.Thread(target=worker_task)
thread.start()
thread.join()
```

### –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤

```python
import threading
import time

def monitor_threads():
    """–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤—Å—ñ—Ö –∞–∫—Ç–∏–≤–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤"""
    print(f"\n=== Active Threads: {threading.active_count()} ===")
    for thread in threading.enumerate():
        print(f"Thread: {thread.name}")
        print(f"  ID: {thread.ident}")
        print(f"  Daemon: {thread.daemon}")
        print(f"  Alive: {thread.is_alive()}")
        print()

# –ó–∞–ø—É—Å–∫–∞—î–º–æ –∫—ñ–ª—å–∫–∞ –ø–æ—Ç–æ–∫—ñ–≤
def worker(name, duration):
    time.sleep(duration)

threads = [
    threading.Thread(target=worker, args=(f"Worker-{i}", i), name=f"Worker-{i}")
    for i in range(5)
]

for t in threads:
    t.start()

# –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
while threading.active_count() > 1:
    monitor_threads()
    time.sleep(2)
```


---

## –í–∏—Å–Ω–æ–≤–∫–∏

### –ö–ª—é—á–æ–≤—ñ –ø–æ–Ω—è—Ç—Ç—è –¥–ª—è –∑–∞–ø–∞–º'—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è

1. **GIL** - —Ü–µ –Ω–µ –±–∞–≥, –∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è
   - –ó–∞—Ö–∏—â–∞—î —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é CPython
   - –°–ø—Ä–æ—â—É—î —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é C-–±—ñ–±–ª—ñ–æ—Ç–µ–∫
   - –†–æ–±–∏—Ç—å –æ–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤—ñ –ø—Ä–æ–≥—Ä–∞–º–∏ —à–≤–∏–¥—à–∏–º–∏

2. **–ü–æ—Ç–æ–∫–∏ vs –ü—Ä–æ—Ü–µ—Å–∏**
   - –ü–æ—Ç–æ–∫–∏: —Å–ø—ñ–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å, I/O-bound, —à–≤–∏–¥–∫–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
   - –ü—Ä–æ—Ü–µ—Å–∏: —ñ–∑–æ–ª—å–æ–≤–∞–Ω—ñ, CPU-bound, —Å–ø—Ä–∞–≤–∂–Ω—ñ–π –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º

3. **Threading –Ω–∞–π–∫—Ä–∞—â–∏–π –¥–ª—è:**
   - –ú–µ—Ä–µ–∂–µ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
   - –†–æ–±–æ—Ç–∏ –∑ —Ñ–∞–π–ª–∞–º–∏
   - –û—á—ñ–∫—É–≤–∞–Ω–Ω—è I/O
   - –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∞ —Å–ø—ñ–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å

4. **Multiprocessing –Ω–∞–π–∫—Ä–∞—â–∏–π –¥–ª—è:**
   - –í–∞–∂–∫–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å
   - –û–±—Ä–æ–±–∫–∏ –¥–∞–Ω–∏—Ö
   - –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –≤—Å—ñ —è–¥—Ä–∞ CPU

5. **–¢–∏–ø–æ–≤—ñ –ø–æ–º–∏–ª–∫–∏:**
   - Race conditions ‚Üí –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Lock
   - Deadlocks ‚Üí –¥–æ—Ç—Ä–∏–º—É–π—Ç–µ—Å—å –ø–æ—Ä—è–¥–∫—É –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è
   - GIL thrashing ‚Üí –æ–±–º–µ–∂—É–π—Ç–µ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—Ç–æ–∫—ñ–≤
   - Memory leaks ‚Üí –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à—É–π—Ç–µ –ø–æ—Ç–æ–∫–∏

### –°—Ç—Ä–∞—Ç–µ–≥—ñ—è –≤–∏–±–æ—Ä—É –ø—ñ–¥—Ö–æ–¥—É

```python
# –®–≤–∏–¥–∫–∏–π –≥–∞–π–¥ –¥–ª—è –≤–∏–±–æ—Ä—É
if task_type == "I/O":
    if num_operations < 100:
        use_threading()
    elif num_operations < 1000:
        use_threadpool()
    else:
        use_asyncio()
elif task_type == "CPU":
    if need_true_parallelism:
        use_multiprocessing()
    else:
        optimize_algorithm()  # –ú–æ–∂–ª–∏–≤–æ, –ø–æ—Ç–æ–∫–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ
```


### –ö–æ—Ä–∏—Å–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏

- **–û—Ñ—ñ—Ü—ñ–π–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:** https://docs.python.org/3/library/threading.html
- **PEP 703 (No-GIL):** https://peps.python.org/pep-0703/
- **Understanding the Python GIL:** David Beazley's talk
- **Concurrent Programming in Python:** –∫–Ω–∏–≥–∞ –≤—ñ–¥ O'Reilly

### –ú–∞–π–±—É—Ç–Ω—î –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ –≤ Python

```mermaid
timeline
    title –ï–≤–æ–ª—é—Ü—ñ—è –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ –≤ Python
    2000 : Python 2.0 : GIL –≤–∂–µ —ñ—Å–Ω—É–≤–∞–≤
    2008 : Python 2.6 : multiprocessing –º–æ–¥—É–ª—å
    2013 : Python 3.3 : concurrent.futures
    2015 : Python 3.5 : async/await —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
    2023 : Python 3.12 : –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è GIL
    2024 : Python 3.13 : PEP 703 - –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π No-GIL (–µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ)
    2025+ : Python 3.14+ : No-GIL –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º?
```

---

## –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è

### –ó–∞–≤–¥–∞–Ω–Ω—è 1: –í–∏–ø—Ä–∞–≤—Ç–µ race condition
```python
import threading

counter = 0

def increment():
    global counter
    for _ in range(100000):
        counter += 1

threads = [threading.Thread(target=increment) for _ in range(5)]
for t in threads: t.start()
for t in threads: t.join()

print(f"Counter: {counter}")  # –ù–µ –∑–∞–≤–∂–¥–∏ 500000!
# TODO: –í–∏–ø—Ä–∞–≤—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ Lock
```

### –ó–∞–≤–¥–∞–Ω–Ω—è 2: –ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
```python
# TODO: –ù–∞–ø–∏—à—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É, —è–∫–∞ –ø–æ—Ä—ñ–≤–Ω—é—î:
# 1. –ü–æ—Å–ª—ñ–¥–æ–≤–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
# 2. Threading
# 3. Multiprocessing
# 4. AsyncIO
# –î–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è 50 –≤–µ–±-—Å—Ç–æ—Ä—ñ–Ω–æ–∫
```

### –ó–∞–≤–¥–∞–Ω–Ω—è 3: –†–µ–∞–ª—ñ–∑—É–π—Ç–µ Worker Pool
```python
# TODO: –°—Ç–≤–æ—Ä—ñ—Ç—å –≤–ª–∞—Å–Ω—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é ThreadPool
# –∑ Queue –¥–ª—è –∑–∞–¥–∞—á —ñ –æ–±—Ä–æ–±–∫–æ—é –ø–æ–º–∏–ª–æ–∫
```

---

**–ê–≤—Ç–æ—Ä:** –î–º–∏—Ç—Ä–æ –£—Å—Ç–∏–Ω–æ–≤  
**–î–∞—Ç–∞:** 2026  
**–í–µ—Ä—Å—ñ—è Python:** 3.12+

